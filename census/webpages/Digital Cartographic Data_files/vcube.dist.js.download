/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*
 Highcharts JS v4.1.8 (2015-08-20)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/

// MIT license

(function(e,t){typeof define=="function"&&define.amd?define([],t):e.SDMXGraph=t()})(this,function(){var e,t,n;return function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.slice(0,v.length-1).concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!="string"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("lib/almond",function(){}),function(){function e(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function t(e,t){return parseInt(e,t||10)}function n(e){return typeof e=="string"}function r(e){return e&&typeof e=="object"}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return typeof e=="number"}function o(e){return H.log(e)/H.LN10}function u(e){return H.pow(10,e)}function a(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function f(e){return e!==_&&e!==null}function l(e,t,i){var s,o;if(n(t))f(i)?e.setAttribute(t,i):e&&e.getAttribute&&(o=e.getAttribute(t));else if(f(t)&&r(t))for(s in t)e.setAttribute(s,t[s]);return o}function c(e){return i(e)?e:[e]}function h(e,t){J&&!et&&t&&t.opacity!==_&&(t.filter="alpha(opacity="+t.opacity*100+")"),It(e.style,t)}function p(e,t,n,r,i){return e=D.createElement(e),t&&It(e,t),i&&h(e,{padding:0,border:mt,margin:0}),n&&h(e,n),r&&r.appendChild(e),e}function d(e,t){var n=function(){return _};return n.prototype=new e,It(n.prototype,t),n}function v(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function m(e){return(xt&&xt(e)||St||0)*6e4}function g(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=at.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i!==null&&(i=Ft.numberFormat(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:""))):i=ft(s,i))}f.push(i),e=e.slice(n+1),n=(r=!r)?"}":"{"}return f.push(e),f.join("")}function y(e){return H.pow(10,j(H.log(e)/H.LN10))}function b(e,t,n,r,i){var s,o=e,n=qt(n,1);s=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(o=t[r],i&&o*n>=e||!i&&s<=(t[r]+(t[r+1]||t[r]))/2)break;return o*=n,o}function w(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function E(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function S(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function x(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function T(e){ut||(ut=p(vt)),e&&ut.appendChild(e),ut.innerHTML=""}function N(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;P.console&&console.log(n)}function C(e,t){return parseFloat(e.toPrecision(t||14))}function k(e,t){t.renderer.globalAnimation=qt(e,t.animation)}function L(){var e=at.global,t=e.useUTC,n=t?"getUTC":"get",r=t?"setUTC":"set";wt=e.Date||window.Date,St=t&&e.timezoneOffset,xt=t&&e.getTimezoneOffset,Et=function(e,n,r,i,s,o){var u;return t?(u=wt.UTC.apply(0,arguments),u+=m(u)):u=(new wt(e,n,qt(r,1),qt(i,0),qt(s,0),qt(o,0))).getTime(),u},Tt=n+"Minutes",Nt=n+"Hours",Ct=n+"Day",kt=n+"Date",Lt=n+"Month",At=n+"FullYear",Ot=r+"Milliseconds",Mt=r+"Seconds",_t=r+"Minutes",Dt=r+"Hours",Pt=r+"Date",Ht=r+"Month",Bt=r+"FullYear"}function A(){}function O(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function M(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:qt(t.y,s?4:n?14:-6),x:qt(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var _,D=document,P=window,H=Math,B=H.round,j=H.floor,F=H.ceil,I=H.max,q=H.min,R=H.abs,U=H.cos,z=H.sin,W=H.PI,X=W*2/360,V=navigator.userAgent,$=P.opera,J=/(msie|trident)/i.test(V)&&!$,K=D.documentMode===8,Q=/AppleWebKit/.test(V),G=/Firefox/.test(V),Y=/(Mobile|Android|Windows Phone)/.test(V),Z="http://www.w3.org/2000/svg",et=!!D.createElementNS&&!!D.createElementNS(Z,"svg").createSVGRect,tt=G&&parseInt(V.split("Firefox/")[1],10)<4,nt=!et&&!J&&!!D.createElement("canvas").getContext,rt,it,st={},ot=0,ut,at,ft,lt,ct,ht=function(){return _},pt=[],dt=0,vt="div",mt="none",gt=/^[0-9]+$/,yt=["plotTop","marginRight","marginBottom","plotLeft"],bt="stroke-width",wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt={},Ft;Ft=P.Highcharts=P.Highcharts?N(16,!0):{},Ft.seriesTypes=jt;var It=Ft.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},qt=Ft.pick=function(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==_&&n!==null)return n},Rt=Ft.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};ft=function(e,t,n){if(!f(t)||isNaN(t))return at.lang.invalidDate||"";var e=qt(e,"%Y-%m-%d %H:%M:%S"),r=new wt(t-m(t)),i,s=r[Nt](),o=r[Ct](),u=r[kt](),a=r[Lt](),l=r[At](),c=at.lang,h=c.weekdays,r=It({a:h[o].substr(0,3),A:h[o],d:v(u),e:u,w:o,b:c.shortMonths[a],B:c.months[a],m:v(a+1),y:l.toString().substr(2,2),Y:l,H:v(s),k:s,I:v(s%12||12),l:s%12||12,M:v(r[Tt]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:v(r.getSeconds()),L:v(B(t%1e3),3)},Ft.dateFormats);for(i in r)for(;e.indexOf("%"+i)!==-1;)e=e.replace("%"+i,typeof r[i]=="function"?r[i](t):r[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},ct={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Ft.numberFormat=function(e,n,r,i){var s=at.lang,e=+e||0,o=n===-1?q((e.toString().split(".")[1]||"").length,20):isNaN(n=R(n))?2:n,n=r===void 0?s.decimalPoint:r,i=i===void 0?s.thousandsSep:i,s=e<0?"-":"",r=String(t(e=R(e).toFixed(o))),u=r.length>3?r.length%3:0;return s+(u?r.substr(0,u)+i:"")+r.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(o?n+R(e-r).toFixed(o).slice(2):"")},lt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(e){P.HighchartsAdapter=P.HighchartsAdapter||e&&{init:function(t){var r=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),e.each(["cur","_default","width","height","opacity"],function(t,n){var i=r.step,s;n==="cur"?i=r.prototype:n==="_default"&&e.Tween&&(i=e.Tween.propHooks[n],n="set"),(s=i[n])&&(i[n]=function(e){var r,e=t?e:this;if(e.prop!=="align")return r=e.elem,r.attr?r.attr(e.prop,n==="cur"?_:e.now):s.apply(this,arguments)})}),Rt(e.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},e.fn.highcharts=function(){var e="Chart",t=arguments,r,i;return this[0]&&(n(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),r=t[0],r!==_&&(r.chart=r.chart||{},r.chart.renderTo=this[0],new Ft[e](r,t[1]),i=this),r===_&&(i=pt[l(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(t,n){e.Tween?e.Tween.propHooks[t]={set:n}:e.fx.step[t]=n},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,n){return e(t)[n]()},grep:e.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(t){return e(t).offset()},addEvent:function(t,n,r){e(t).bind(n,r)},removeEvent:function(t,n,r){var i=D.removeEventListener?"removeEventListener":"detachEvent";D[i]&&t&&!t[i]&&(t[i]=function(){}),e(t).unbind(n,r)},fireEvent:function(t,n,r,i){var s=e.Event(n),o="detached"+n,u;!J&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue),It(s,r),t[n]&&(t[o]=t[n],t[n]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),e(t).trigger(s),t[o]&&(t[n]=t[o],t[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===_&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,n,r){var i=e(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),i.stop(),n.opacity!==_&&t.attr&&(n.opacity+="px"),t.hasAnim=1,i.animate(n,r)},stop:function(t){t.hasAnim&&e(t).stop()}}}(P.jQuery);var Ut=P.HighchartsAdapter,zt=Ut||{};Ut&&Ut.init.call(Ut,lt);var Wt=zt.adapterRun,Xt=zt.getScript,Vt=zt.inArray,$t=Ft.each=zt.each,Jt=zt.grep,Kt=zt.offset,Qt=zt.map,Gt=zt.addEvent,Yt=zt.removeEvent,Zt=zt.fireEvent,en=zt.washMouseEvent,tn=zt.animate,nn=zt.stop;at={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":Ft.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:et,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Y?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var rn=at.plotOptions,Ut=rn.line;L();var sn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,on=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,un=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,an=function(n){var r=[],i,o;return function(e){e&&e.stops?o=Qt(e.stops,function(e){return an(e[1])}):(i=sn.exec(e))?r=[t(i[1]),t(i[2]),t(i[3]),parseFloat(i[4],10)]:(i=on.exec(e))?r=[t(i[1],16),t(i[2],16),t(i[3],16),1]:(i=un.exec(e))&&(r=[t(i[1]),t(i[2]),t(i[3]),1])}(n),{get:function(t){var i;return o?(i=e(n),i.stops=[].concat(i.stops),$t(o,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=r&&!isNaN(r[0])?t==="rgb"?"rgb("+r[0]+","+r[1]+","+r[2]+")":t==="a"?r[3]:"rgba("+r.join(",")+")":n,i},brighten:function(e){if(o)$t(o,function(t){t.brighten(e)});else if(s(e)&&e!==0){var n;for(n=0;n<3;n++)r[n]+=t(e*255),r[n]<0&&(r[n]=0),r[n]>255&&(r[n]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this},raw:n}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element=t==="span"?p(t):D.createElementNS(Z,t),this.renderer=e},animate:function(t,n,r){return n=qt(n,this.renderer.globalAnimation,!0),nn(this),n?(n=e(n,{}),r&&(n.complete=r),tn(this,t,n)):this.attr(t,null,r),this},colorGradient:function(t,n,r){var s=this.renderer,o,u,a,l,c,h,p,d,v,m,g=[];t.linearGradient?u="linearGradient":t.radialGradient&&(u="radialGradient");if(u){a=t[u],l=s.gradients,h=t.stops,v=r.radialReference,i(a)&&(t[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&v&&!f(a.gradientUnits)&&(a=e(a,{cx:v[0]-v[2]/2+a.cx*v[2],cy:v[1]-v[2]/2+a.cy*v[2],r:a.r*v[2],gradientUnits:"userSpaceOnUse"}));for(m in a)m!=="id"&&g.push(m,a[m]);for(m in h)g.push(h[m]);g=g.join(","),l[g]?t=l[g].attr("id"):(a.id=t="highcharts-"+ot++,l[g]=c=s.createElement(u).attr(a).add(s.defs),c.stops=[],$t(h,function(e){e[1].indexOf("rgba")===0?(o=an(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1),e=s.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(c),c.stops.push(e)})),r.setAttribute(n,"url("+s.url+"#"+t+")")}},applyTextShadow:function(e){var n=this.element,r,i=e.indexOf("contrast")!==-1,s={},o=this.renderer.forExport||n.style.textShadow!==_&&!J;i&&(s.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),Q&&(s.textRendering="geometricPrecision"),o?h(n,s):(this.fakeTS=!0,this.ySetter=this.xSetter,r=[].slice.call(n.getElementsByTagName("tspan")),$t(e.split(/\s?,\s?/g),function(e){var i=n.firstChild,s,o,e=e.split(" ");s=e[e.length-1],(o=e[e.length-2])&&$t(r,function(e,r){var u;r===0&&(e.setAttribute("x",n.getAttribute("x")),r=n.getAttribute("y"),e.setAttribute("y",r||0),r===null&&n.setAttribute("y",0)),u=e.cloneNode(1),l(u,{"class":"highcharts-text-shadow",fill:s,stroke:s,"stroke-opacity":1/I(t(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(u,i)})}))},attr:function(e,t,n){var r,i=this.element,s,o=this,u;typeof e=="string"&&t!==_&&(r=e,e={},e[r]=t);if(typeof e=="string")o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(r in e)t=e[r],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(s||(this.symbolAttr(e),s=!0),u=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),u||(this[r+"Setter"]||this._defaultSetter).call(this,t,r,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,e==="height"?I(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=l(t,"class")||"";return n.indexOf(e)===-1&&l(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;$t("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=qt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":mt)},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=B(i)%2/2,e.x=j(e.x||this.x||0)+r,e.y=j(e.y||this.y||0)+r,e.width=j((e.width||this.width||0)-2*r),e.height=j((e.height||this.height||0)-2*r),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var n=this.styles,r={},i=this.element,s,o,u="";s=!n,e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],s=!0);if(s){s=this.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&t(e.width)||this.textWidth,n&&(e=It(n,r)),this.styles=e,s&&(nt||!et&&this.renderer.forExport)&&delete e.width;if(J&&!et)h(this.element,e);else{n=function(e,t){return"-"+t.toLowerCase()};for(o in e)u+=o.replace(/([A-Z])/g,n)+":"+e[o]+";";l(i,"style",u)}s&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return it&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=wt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(V.indexOf("Android")===-1||wt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(f(n)||f(r))&&e.push("scale("+qt(n,1)+" "+qt(r,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,r){var i,s,o,u,f={};s=this.renderer,o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!r||n(r))this.alignTo=i=r||"renderer",a(o,this),o.push(this),r=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;r=qt(r,s[i],s),i=e.align,s=e.verticalAlign,o=(r.x||0)+(e.x||0),u=(r.y||0)+(e.y||0);if(i==="right"||i==="center")o+=(r.width-(e.width||0))/{right:1,center:2}[i];f[t?"translateX":"x"]=B(o);if(s==="bottom"||s==="middle")u+=(r.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return f[t?"translateY":"y"]=B(u),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},getBBox:function(e){var t,n=this.renderer,r,i=this.rotation,s=this.element,o=this.styles,u=i*X;r=this.textStr;var a,f=s.style,l,c;r!==_&&(c=["",i||0,o&&o.fontSize,s.style.width].join(","),c=r===""||gt.test(r)?"num:"+r.toString().length+c:r+c),c&&!e&&(t=n.cache[c]);if(!t){if(s.namespaceURI===Z||n.forExport){try{l=this.fakeTS&&function(e){$t(s.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},G&&f.textShadow?(a=f.textShadow,f.textShadow=""):l&&l(mt),t=s.getBBox?It({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},a?f.textShadow=a:l&&l("")}catch(h){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(e=t.width,r=t.height,J&&o&&o.fontSize==="11px"&&r.toPrecision(3)==="16.9"&&(t.height=r=14),i&&(t.width=R(r*z(u))+R(e*U(u)),t.height=R(r*U(u))+R(e*z(u)))),c&&(n.cache[c]=t)}return t},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=this.element,r;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),this.added=!0;if(!e||e.handleZ||this.zIndex)r=this.zIndexSetter();return r||(e?e.element:t.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,nn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&$t(n,function(t){e.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&a(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,c;if(e){a=qt(e.width,3),f=(e.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+qt(e.offsetX,1)+", "+qt(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,l(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+c,fill:mt}),n&&(l(s,"height",I(l(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=qt(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var n;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(n=e.length;n--;)e[n]=t(e[n])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=D.createElementNS(Z,"title"),this.element.appendChild(t)),t.appendChild(D.createTextNode(String(qt(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){e==="inherit"?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,n){var r=this.renderer,i=this.parentGroup,r=(i||r).element||r.box,s,o,u=this.element,a;s=this.added;var c;f(e)&&(u.setAttribute(n,e),e=+e,this[n]===e&&(s=!1),this[n]=e);if(s){(e=this.zIndex)&&i&&(i.handleZ=!0),i=r.childNodes;for(c=0;c<i.length&&!a;c++)if(s=i[c],o=l(s,"zIndex"),s!==u&&(t(o)>e||!f(e)&&f(o)))r.insertBefore(u,s),a=!0;a||r.appendChild(u)}return a},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var fn=function(){this.init.apply(this,arguments)};fn.prototype={Element:A,init:function(e,t,n,r,i){var s=location,o,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=r.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&l(o,"xmlns",Z),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(G||Q)&&D.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(D.createTextNode("Created with Highcharts 4.1.8")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.cache={},this.setSize(t,n,!1);var u;G&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){h(e,{left:0,top:0}),u=e.getBoundingClientRect(),h(e,{left:F(u.left)-u.left+"px",top:F(u.top)-u.top+"px"})},t(),Gt(P,"resize",t))},getStyle:function(e){return this.style=It({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),x(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Yt(P,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var n=e.element,r=this,i=r.forExport,s=qt(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u=n.childNodes,a,f,c=l(n,"x"),p=e.styles,d=e.textWidth,v=p&&p.lineHeight,m=p&&p.textShadow,g=p&&p.textOverflow==="ellipsis",y=u.length,b=d&&!e.added&&this.box,w=function(e){return v?t(v):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},E=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)n.removeChild(u[y]);!o&&!m&&!g&&s.indexOf(" ")===-1?n.appendChild(D.createTextNode(E(s))):(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(n),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],s[s.length-1]===""&&s.pop(),$t(s,function(t,s){var o,u=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=t.split("|||"),$t(o,function(t){if(t!==""||o.length===1){var v={},m=D.createElementNS(Z,"tspan"),y;a.test(t)&&(y=t.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),l(m,"style",y)),f.test(t)&&!i&&(l(m,"onclick",'location.href="'+t.match(f)[1]+'"'),h(m,{cursor:"pointer"})),t=E(t.replace(/<(.|\n)*?>/g,"")||" ");if(t!==" "){m.appendChild(D.createTextNode(t)),u?v.dx=0:s&&c!==null&&(v.x=c),l(m,v),n.appendChild(m),!u&&s&&(!et&&i&&h(m,{display:"block"}),l(m,"dy",w(m)));if(d){for(var v=t.replace(/([^\^])-/g,"$1- ").split(" "),b=o.length>1||s||v.length>1&&p.whiteSpace!=="nowrap",S,x,T,N=[],C=w(m),k=1,L=e.rotation,A=t,O=A.length;(b||g)&&(v.length||N.length);)e.rotation=0,S=e.getBBox(!0),T=S.width,!et&&r.forExport&&(T=r.measureSpanWidth(m.firstChild.data,e.styles)),S=T>d,x===void 0&&(x=S),g&&x?(O/=2,A===""||!S&&O<.5?v=[]:(S&&(x=!0),A=t.substring(0,A.length+(S?-1:1)*F(O)),v=[A+(d>3?"…":"")],m.removeChild(m.firstChild))):!S||v.length===1?(v=N,N=[],v.length&&(k++,m=D.createElementNS(Z,"tspan"),l(m,{dy:C,x:c}),y&&l(m,"style",y),n.appendChild(m)),T>d&&(d=T)):(m.removeChild(m.firstChild),N.unshift(v.pop())),v.length&&m.appendChild(D.createTextNode(v.join(" ").replace(/- /g,"-")));x&&e.attr("title",e.textStr),e.rotation=L}u++}}})}),b&&b.removeChild(n),m&&e.applyTextShadow&&e.applyTextShadow(m))},getContrast:function(e){return e=an(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(t,n,r,i,s,o,u,a,f){var l=this.label(t,n,r,f,null,null,null,null,"button"),c=0,h,p,d,v,m,g,t={x1:0,y1:0,x2:0,y2:1},s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return d=s.style,delete s.style,o=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),v=o.style,delete o.style,u=e(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},u),m=u.style,delete u.style,a=e(s,{style:{color:"#CCC"}},a),g=a.style,delete a.style,Gt(l.element,J?"mouseover":"mouseenter",function(){c!==3&&l.attr(o).css(v)}),Gt(l.element,J?"mouseout":"mouseleave",function(){c!==3&&(h=[s,o,u][c],p=[d,v,m][c],l.attr(h).css(p))}),l.setState=function(e){(l.state=c=e)?e===2?l.attr(u).css(m):e===3&&l.attr(a).css(g):l.attr(s).css(d)},l.on("click",function(e){c!==3&&i.call(l,e)}).attr(s).css(It({cursor:"default"},d))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=B(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=B(e[2])+t%2/2),e},path:function(e){var t={fill:mt};return i(e)?t.d=e:r(e)&&It(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=r(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,i,s,o){return r(e)&&(t=e.y,n=e.r,i=e.innerR,s=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:s||0,end:o||0}),e.r=n,e},rect:function(e,t,n,i,s,o){var s=r(e)?e.r:s,u=this.createElement("rect"),e=r(e)?e:e===_?{}:{x:e,y:t,width:I(n,0),height:I(i,0)};return o!==_&&(e.strokeWidth=o,e=u.crisp(e)),s&&(e.r=s),u.rSetter=function(e){l(this.element,{rx:e,ry:e})},u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[qt(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return f(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:mt};return arguments.length>1&&It(s,{x:t,y:n,width:r,height:i}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,t,n,r,i,s){var o,u=this.symbols[e],u=u&&u(B(t),B(n),r,i,s),a=/^url\((.*?)\)$/,f,l;return u?(o=this.path(u),It(o,{symbolName:e,x:t,y:n,width:r,height:i}),s&&It(o,s)):a.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(B((r-t[0])/2),B((i-t[1])/2)))},f=e.match(a)[1],e=st[f]||s&&s.width&&s.height&&[s.width,s.height],o=this.image(f).attr({x:t,y:n}),o.isImg=!0,e?l(o,e):(o.attr({width:0,height:0}),p("img",{onload:function(){l(o,st[f]=[this.width,this.height])},src:f}))),o},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=U(s),f=z(s),l=U(o),o=z(o),i=i.end-s<W?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=q(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,i=i&&i.anchorY,a;return a=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t],u&&u>n&&i>t+o&&i<t+r-o?a.splice(13,3,"L",e+n,i-6,e+n+6,i,e+n,i+6,e+n,t+r-s):u&&u<0&&i>t+o&&i<t+r-o?a.splice(33,3,"L",e,i+6,e-6,i,e,i-6,e,t+s):i&&i>r&&u>e+o&&u<e+n-o?a.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):i&&i<0&&u>e+o&&u<e+n-o&&a.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t),a}},clipRect:function(e,t,n,r){var i="highcharts-"+ot++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e.count=0,e},text:function(e,t,n,r){var i=nt||!et&&this.forExport,s={};if(r&&!this.forExport)return this.html(e,t,n);s.x=Math.round(t||0),n&&(s.y=Math.round(n));if(e||e===0)s.text=e;return e=this.createElement("text").attr(s),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e},fontMetrics:function(e,n){var r,i,e=e||this.style.fontSize;return n&&P.getComputedStyle&&(n=n.element||n,e=(r=P.getComputedStyle(n,""))&&r.fontSize),e=/px/.test(e)?t(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+3:B(e*1.2),i=B(r*.8),{h:r,b:i,f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=I(r*U(t*X),4)),{x:-e/3*z(t*X),y:r}},label:function(t,n,r,i,s,o,u,a,l){function c(){var e,t;e=m.element.style,y=(S===void 0||x===void 0||v.styles.textAlign)&&f(m.textStr)&&m.getBBox(),v.width=(S||y.width||0)+2*w+E,v.height=(x||y.height||0)+2*w,L=w+d.fontMetrics(e&&e.fontSize,m).b,O&&(g||(e=B(-b*w)+C,t=(a?-L:0)+C,v.box=g=i?d.symbol(i,e,t,v.width,v.height,k):d.rect(e,t,v.width,v.height,0,k[bt]),g.isImg||g.attr("fill",mt),g.add(v)),g.isImg||g.attr(It({width:B(v.width),height:B(v.height)},k)),k=null)}function h(){var e=v.styles,e=e&&e.textAlign,t=E+w*(1-b),n;n=a?0:L,f(S)&&y&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(S-y.width));if(t!==m.x||n!==m.y)m.attr("x",t),n!==_&&m.attr("y",n);m.x=t,m.y=n}function p(e,t){g?g.attr(e,t):k[e]=t}var d=this,v=d.g(l),m=d.text("",0,0,u).attr({zIndex:1}),g,y,b=0,w=3,E=0,S,x,T,N,C=0,k={},L,O;v.onAdd=function(){m.add(v),v.attr({text:t||t===0?t:"",x:n,y:r}),g&&f(s)&&v.attr({anchorX:s,anchorY:o})},v.widthSetter=function(e){S=e},v.heightSetter=function(e){x=e},v.paddingSetter=function(e){f(e)&&e!==w&&(w=v.padding=e,h())},v.paddingLeftSetter=function(e){f(e)&&e!==E&&(E=e,h())},v.alignSetter=function(e){b={left:0,center:.5,right:1}[e]},v.textSetter=function(e){e!==_&&m.textSetter(e),c(),h()},v["stroke-widthSetter"]=function(e,t){e&&(O=!0),C=e%2/2,p(t,e)},v.strokeSetter=v.fillSetter=v.rSetter=function(e,t){t==="fill"&&e&&(O=!0),p(t,e)},v.anchorXSetter=function(e,t){s=e,p(t,B(e)-C-T)},v.anchorYSetter=function(e,t){o=e,p(t,e-N)},v.xSetter=function(e){v.x=e,b&&(e-=b*((S||y.width)+w)),T=B(e),v.attr("translateX",T)},v.ySetter=function(e){N=v.y=B(e),v.attr("translateY",N)};var M=v.css;return It(v,{css:function(t){if(t){var n={},t=e(t);$t(v.textProps,function(e){t[e]!==_&&(n[e]=t[e],delete t[e])}),m.css(n)}return M.call(v,t)},getBBox:function(){return{width:y.width+2*w,height:y.height+2*w,x:y.x-w,y:y.y-w}},shadow:function(e){return g&&g.shadow(e),v},destroy:function(){Yt(v.element,"mouseenter"),Yt(v.element,"mouseleave"),m&&(m=m.destroy()),g&&(g=g.destroy()),A.prototype.destroy.call(v),v=d=c=h=p=null}})}},rt=fn,It(A.prototype,{htmlCss:function(e){var t=this.element;if(t=e&&t.tagName==="SPAN"&&e.width)delete e.width,this.textWidth=t,this.updateTransform();return e&&e.textOverflow==="ellipsis"&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=It(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return e.nodeName==="text"&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,n=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],l=this.shadows,c=this.styles;h(n,{marginLeft:r,marginTop:i}),l&&$t(l,function(e){h(e,{marginLeft:r+1,marginTop:i+1})}),this.inverted&&$t(n.childNodes,function(t){e.invertChild(t,n)});if(n.tagName==="SPAN"){var p=this.rotation,d,v=t(this.textWidth),m=[p,u,n.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(d=e.fontMetrics(n.style.fontSize).b,f(p)&&this.setSpanRotation(p,a,d),l=qt(this.elemWidth,n.offsetWidth),l>v&&/[ \-]/.test(n.textContent||n.innerText)&&(h(n,{width:v+"px",display:"block",whiteSpace:c&&c.whiteSpace||"normal"}),l=v),this.getSpanCorrection(l,d,a,p,u)),h(n,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),Q&&(d=n.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=J?"-ms-transform":Q?"-webkit-transform":G?"MozTransform":$?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(G?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",h(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),It(fn.prototype,{html:function(e,t,n){var r=this.createElement("span"),i=r.element,s=r.renderer;return r.textSetter=function(e){e!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=e,r.htmlUpdateTransform()},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:B(t),y:B(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.style.whiteSpace="nowrap",r.css=r.htmlCss,s.isSVG&&(r.add=function(e){var t,n=s.box.parentNode,o=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)o.push(e),e=e.parentGroup;$t(o.reverse(),function(e){var r,i=l(e.element,"class");i&&(i={className:i}),t=e.div=e.div||p(vt,i,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||n),r=t.style,It(e,{translateXSetter:function(t,n){r.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+"px",e[n]=t,e.doTransform=!0}}),Rt(e,"visibilitySetter",function(e,t,n,i){e.call(this,t,n,i),r[n]=t})})}}else t=n;return t.appendChild(i),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});if(!et&&!nt){zt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===vt;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=p(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=U(e*X),n=z(e*X);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):mt})},getSpanCorrection:function(e,t,n,r,i){var s=r?U(r*X):1,o=r?z(r*X):0,u=qt(this.elemHeight,this.element.offsetHeight),a;this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),i&&i!=="left"&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),h(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)if(s(e[t]))n[t]=B(e[t]*10)-5;else if(e[t]==="Z")n[t]="x";else if(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at"))n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1);return n.join(" ")||"x"},clip:function(e){var t=this,n;return e?(n=e.members,a(n,t),n.push(t),t.destroyClip=function(){a(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:K?"inherit":"rect(auto)"}),t.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&T(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=P.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,n){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=t(e[r-2])-10*n;return e.join(" ")},shadow:function(e,n,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,v,m;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){v=qt(e.width,3),m=(e.opacity||.15)/v;for(s=1;s<=3;s++)h=v*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=p(u.prepVML(l),null,{left:t(f.left)+qt(e.offsetX,1),top:t(f.top)+qt(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',m*s,'"/>'],p(u.prepVML(l),null,null,a),n?n.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this},updateShadows:ht,setAttr:function(e,t){K?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==mt,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:ht,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-B(z(e*X)+1)+"px",n.top=B(U(e*X))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,s(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e="visible"),this.shadows&&$t(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e==="hidden"?"-999em":0,K||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},Ft.VMLElement=zt=d(A,zt),zt.prototype.ySetter=zt.prototype.widthSetter=zt.prototype.heightSetter=zt.prototype.xSetter;var ln={Element:zt,isIE8:V.indexOf("MSIE 8.0")>-1,init:function(e,t,n,r){var i;this.alignedObjects=[],r=this.createElement(vt).css(It(this.getStyle(r),{position:"relative"})),i=r.element,e.appendChild(r.element),this.isVML=!0,this.box=i,this.boxWrapper=r,this.cache={},this.setSize(t,n,!1);if(!D.namespaces.hcv){D.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{D.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(s){D.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var s=this.createElement(),o=r(e);return It(s,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,r=this.top-(n==="shape"?t.offsetTop:0),i=this.left,t=i+this.width,s=r+this.height,r={clip:"rect("+B(e?i:r)+"px,"+B(e?s:t)+"px,"+B(e?t:s)+"px,"+B(e?r:i)+"px)"};return!e&&K&&n==="DIV"&&It(r,{width:t+"px",height:s+"px"}),r},updateClipping:function(){$t(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=mt;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,d,v,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',v,'" type="',a,'" ',b,'focus="100%" method="any" />'],p(i.prepVML(u),null,null,t)};d=e[0],w=e[e.length-1],d[0]>0&&e.unshift([0,d[1]]),w[0]<1&&e.push([1,w[1]]),$t(e,function(e,t){o.test(e[1])?(s=an(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(v=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,d=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-H.atan((h-e)/(d-n))*180/W)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+at.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():r.onAdd=f,f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=an(e),u=["<",n,' opacity="',s.get("a"),'"/>'],p(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1,f[0].type="solid"),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:fn.prototype.html,path:function(e){var t={coordsize:"10 10"};return i(e)?t.d=e:r(e)&&It(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return r(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(vt).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):fn.prototype.createElement.call(this,e)},invertChild:function(e,n){var r=this,i=n.style,s=e.tagName==="IMG"&&e.style;h(e,{flip:"x",left:t(i.width)-(s?t(s.top):1),top:t(i.height)-(s?t(s.left):1),rotation:-90}),$t(e.childNodes,function(t){r.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=U(s),a=z(s),f=U(o),l=z(o);return o-s===0?["x"]:(s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l],i.open&&!n&&s.push("e","M",e,t),s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e"),s.isArc=!0,s)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return fn.prototype.symbols[!f(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};Ft.VMLRenderer=zt=function(){this.init.apply(this,arguments)},zt.prototype=e(fn.prototype,ln),rt=zt}fn.prototype.measureSpanWidth=function(e,t){var n=D.createElement("span"),r;return r=D.createTextNode(e),n.appendChild(r),h(n,t),this.box.appendChild(n),r=n.offsetWidth,T(n),r};var cn;nt&&(Ft.CanVGRenderer=zt=function(){Z="http://www.w3.org/1999/xhtml"},zt.prototype.symbols={},cn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Xt(r,e),t.push(n)}}}(),rt=zt),O.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.categories,s=t.names,o=this.pos,a=n.labels,l=t.tickPositions,c=o===l[0],h=o===l[l.length-1],s=i?qt(i[o],s[o],o):o,i=this.label,l=l.info,p;t.isDatetimeAxis&&l&&(p=n.dateTimeLabelFormats[l.higherRanks[o]||l.unitName]),this.isFirst=c,this.isLast=h,n=t.labelFormatter.call({axis:t,chart:r,isFirst:c,isLast:h,dateTimeLabelFormat:p,value:t.isLog?C(u(s)):s}),f(i)?i&&i.attr({text:n}):(this.labelLength=(this.label=i=f(n)&&a.enabled?r.renderer.text(n,0,0,a.useHTML).css(e(a.style)).add(t.labelGroup):null)&&i.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t=this.axis,n=e.x,r=t.chart.chartWidth,i=t.chart.spacing,s=qt(t.labelLeft,q(t.pos,i[3])),i=qt(t.labelRight,I(t.pos+t.len,r-i[1])),o=this.label,u=this.rotation,a={left:0,center:.5,right:1}[t.labelAlign],f=o.getBBox().width,l=t.slotWidth,c=1,h,p={};if(u)u<0&&n-a*f<s?h=B(n/U(u*X)-s):u>0&&n+a*f>i&&(h=B((r-n)/U(u*X)));else if(r=n+(1-a)*f,n-a*f<s?l=e.x+l*(1-a)-s:r>i&&(l=i-e.x+l*a,c=-1),l=q(t.slotWidth,l),l<t.slotWidth&&t.labelAlign==="center"&&(e.x+=c*(t.slotWidth-l-a*(t.slotWidth-q(f,l)))),f>l||t.autoRotation&&o.styles.width)h=l;h&&(p.width=h,t.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),o.css(p))},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines,h=a.tickRotCorr||{x:0,y:0},n=qt(i.y,h.y+(a.side===2?8:-(n.getBBox().height/2))),e=e+i.x+h.x-(s&&r?s*f*(l?-1:1):0),t=t+n-(s&&!r?s*f*(l?1:-1):0);return c&&(t+=o/(u||1)%c*(a.labelOffset/c)),{x:e,y:B(t)}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",p=u?u+"Tick":"tick",d=i[h+"LineWidth"],v=i[h+"LineColor"],m=i[h+"LineDashStyle"],g=i[p+"Length"],h=qt(i[p+"Width"],!u&&r.isXAxis?1:0),y=i[p+"Color"],b=i[p+"Position"],p=this.mark,w=l.step,E=!0,S=r.tickmarkOffset,x=this.getPosition(o,f,S,t),T=x.x,x=x.y,N=o&&T===r.pos+r.len||!o&&x===r.pos?-1:1,n=qt(n,1);this.isActive=!0,d&&(f=r.getPlotLinePath(f+S,d*N,t,!0),c===_&&(c={stroke:v,"stroke-width":d},m&&(c.dashstyle=m),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=d?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f&&c[this.isNew?"attr":"animate"]({d:f,opacity:n})),h&&g&&(b==="inside"&&(g=-g),r.opposite&&(g=-g),u=this.getMarkPath(T,x,g,h*N,o,s),p?p.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:y,"stroke-width":h,opacity:n}).add(r.axisGroup)),a&&!isNaN(T)&&(a.xy=x=this.getLabelPosition(T,x,a,o,l,S,e,w),this.isFirst&&!this.isLast&&!qt(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!qt(i.showLastLabel,1)?E=!1:o&&!r.isRadial&&!l.step&&!l.rotation&&!t&&n!==0&&this.handleOverflow(x),w&&e%w&&(E=!1),E&&!isNaN(x.y)?(x.opacity=n,a[this.isNew?"attr":"animate"](x),this.isNew=!1):a.attr("y",-9999))},destroy:function(){x(this,this.axis)}},Ft.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},Ft.PlotLineOrBand.prototype={render:function(){var t=this,n=t.axis,r=n.horiz,i=t.options,s=i.label,u=t.label,a=i.width,l=i.to,c=i.from,h=f(c)&&f(l),p=i.value,d=i.dashStyle,v=t.svgElem,m=[],g,y=i.color,b=i.zIndex,w=i.events,x={},T=n.chart.renderer;n.isLog&&(c=o(c),l=o(l),p=o(p));if(a){if(m=n.getPlotLinePath(p,a),x={stroke:y,"stroke-width":a},d)x.dashstyle=d}else{if(!h)return;m=n.getPlotBandPath(c,l,i),y&&(x.fill=y),i.borderWidth&&(x.stroke=i.borderColor,x["stroke-width"]=i.borderWidth)}f(b)&&(x.zIndex=b);if(v){if(m)v.animate({d:m},null,v.onGetPath);else if(v.hide(),v.onGetPath=function(){v.show()},u)t.label=u=u.destroy()}else if(m&&m.length&&(t.svgElem=v=T.path(m).attr(x).add(),w))for(g in i=function(e){v.on(e,function(n){w[e].apply(t,[n])})},w)i(g);return s&&f(s.text)&&m&&m.length&&n.width>0&&n.height>0?(s=e({align:r&&h&&"center",x:r?!h&&4:10,verticalAlign:!r&&h&&"middle",y:r?h?16:10:h?6:-4,rotation:r&&!h&&90},s),u||(x={align:s.textAlign||s.align,rotation:s.rotation},f(b)&&(x.zIndex=b),t.label=u=T.text(s.text,0,0,s.useHTML).attr(x).css(s.style).add()),n=[m[1],m[4],h?m[6]:m[1]],h=[m[2],m[5],h?m[7]:m[2]],m=E(n),r=E(h),u.align(s,!1,{x:m,y:r,width:S(n)-m,height:S(h)-r}),u.show()):u&&u.hide(),t},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,x(this)}};var hn=Ft.Axis=function(){this.init.apply(this,arguments)};hn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ft.numberFormat(this.total,-1)},style:e(rn.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.zoomEnabled=r.zoomEnabled!==!1,this.categories=r.categories||i==="category",this.names=this.names||[],this.isLog=i==="logarithmic",this.isDatetimeAxis=i==="datetime",this.isLinked=f(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=qt(r.crosshair,c(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;Vt(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===_&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Gt(this,s,r[s]);this.isLog&&(this.val2lin=o,this.lin2val=u)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(at[this.coll],t))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=at.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=g(u,this);else if(n)o=t;else if(r)o=ft(r,t);else if(s&&e>=1e3)for(;s--&&o===_;)n=Math.pow(1e3,s+1),e>=n&&t*10%n===0&&i[s]!==null&&(o=Ft.numberFormat(t/n,-1)+i[s]);return o===_&&(o=R(t)>=1e4?Ft.numberFormat(t,-1):Ft.numberFormat(t,-1,_,"")),o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),$t(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r;r=n.options.threshold;var i;e.hasVisibleSeries=!0,e.isLog&&r<=0&&(r=null);if(e.isXAxis){if(r=n.xData,r.length)e.dataMin=q(qt(e.dataMin,r[0]),E(r)),e.dataMax=I(qt(e.dataMax,r[0]),S(r))}else n.getExtremes(),i=n.dataMax,n=n.dataMin,f(n)&&f(i)&&(e.dataMin=q(qt(e.dataMin,n),n),e.dataMax=I(qt(e.dataMax,i),i)),f(r)&&(e.dataMin>=r?(e.dataMin=r,e.ignoreMinPadding=!0):e.dataMax<r&&(e.dataMax=r,e.ignoreMaxPadding=!0))}})},translate:function(e,t,n,r,i,o){var u=this.linkedParent||this,a=1,f=0,l=r?u.oldTransA:u.transA,r=r?u.oldMin:u.min,c=u.minPixelPadding,i=(u.doPostTranslate||u.isLog&&i)&&u.lin2val;return l||(l=u.transA),n&&(a*=-1,f=u.len),u.reversed&&(a*=-1,f-=a*(u.sector||u.len)),t?(e=e*a+f,e-=c,e=e/l+r,i&&(e=u.lin2val(e))):(i&&(e=u.val2lin(e)),o==="between"&&(o=.5),e=a*(e-r)*l+f+a*c+(s(o)?l*o*u.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB;var p=function(e,t,n){if(e<t||e>n)r?e=q(I(t,e),n):h=!0;return e},i=qt(i,this.translate(e,null,null,n)),e=n=B(i+a);return a=f=B(l-i-a),isNaN(i)?h=!0:this.horiz?(a=u,f=l-this.bottom,e=n=p(e,o,o+this.width)):(e=o,n=c-this.right,a=f=p(a,u,u+this.height)),h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=C(j(t/e)*e),o=C(F(n/e)*e),u=[];if(t===n&&s(t))return[t];for(t=i;t<=o;){u.push(t),t=C(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i,s=this.pointRangePadding||0;i=this.min-s;var s=this.max+s,o=s-i;if(o&&o/n<this.len/3)if(this.isLog){s=t.length;for(i=1;i<s;i++)r=r.concat(this.getLogTickPositions(n,t[i-1],t[i],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),i,s,e.startOfWeek));else for(t=i+(t[0]-i)%n;t<=s;t+=n)r.push(t);return r.length!==0&&this.trimTicks(r,e.startOnTick,e.endOnTick),r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,l;this.isXAxis&&this.minRange===_&&!this.isLog&&(f(e.min)||f(e.max)?this.minRange=null:($t(this.series,function(e){a=e.xData;for(o=l=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===_||u<s)s=u}),this.minRange=q(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2,r=[t-r,qt(e.min,t-r)],i&&(r[2]=this.dataMin),t=S(r),n=[t+c,qt(e.max,t+c)],i&&(n[2]=this.dataMax),n=E(n),n-t<c&&(r[0]=n-c,r[1]=qt(e.min,n-c),t=S(r))}this.min=t,this.max=n},setAxisTranslation:function(e){var t=this,r=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,l=!!t.categories,c=t.transA,h=t.isXAxis;if(h||l||i)if(a?(o=a.minPointOffset,u=a.pointRangePadding):$t(t.series,function(e){var a=l?1:h?e.pointRange:t.axisPointRange||0,c=e.options.pointPlacement,p=e.closestPointRange;a>r&&(a=0),i=I(i,a),t.single||(o=I(o,n(c)?0:a/2),u=I(u,c==="on"?0:a)),!e.noSharedTooltip&&f(p)&&(s=f(s)?q(s,p):p)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=q(i,r),h)t.closestPointRange=s;e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(r+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,u=t.isDatetimeAxis,a=t.isXAxis,l=t.isLinked,c=r.maxPadding,h=r.minPadding,p=r.tickInterval,d=r.tickPixelInterval,v=t.categories;!u&&!v&&!l&&this.getTickAmount(),l?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=qt(n.min,n.dataMin),t.max=qt(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&N(11,1)):(t.min=qt(t.userMin,r.min,t.dataMin),t.max=qt(t.userMax,r.max,t.dataMax)),i&&(!e&&q(t.min,qt(t.dataMin,t.min))<=0&&N(10,1),t.min=C(o(t.min),15),t.max=C(o(t.max),15)),t.range&&f(t.max)&&(t.userMin=t.min=I(t.min,t.minFromRange()),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!v&&!t.axisPointRange&&!t.usePercentage&&!l&&f(t.min)&&f(t.max)&&(n=t.max-t.min)&&(!f(r.min)&&!f(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*h),!f(r.max)&&!f(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*c)),s(r.floor)&&(t.min=I(t.min,r.floor)),s(r.ceiling)&&(t.max=q(t.max,r.ceiling)),t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:l&&!p&&d===t.linkedParent.options.tickPixelInterval?p=t.linkedParent.tickInterval:qt(p,this.tickAmount?(t.max-t.min)/I(this.tickAmount-1,1):void 0,v?1:(t.max-t.min)*d/I(t.len,d)),a&&!e&&$t(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=I(t.pointRange,t.tickInterval)),e=qt(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!p&&t.tickInterval<e&&(t.tickInterval=e),!u&&!i&&!p&&(t.tickInterval=b(t.tickInterval,null,y(t.tickInterval),qt(r.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,t,n=e.tickPositions,r=e.tickPositioner,i=e.startOnTick,s=e.endOnTick,o;this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=e.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=t=r),this.isLinked||(this.trimTicks(t,i,s),this.min===this.max&&f(this.min)&&!this.tickAmount&&(o=!0,this.min-=.5,this.max+=.5),this.single=o,!n&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],s=this.minPointOffset||0;t?this.min=r:this.min-s>r&&e.shift(),n?this.max=i:this.max+s<i&&e.pop(),e.length===0&&f(r)&&e.push((i+r)/2)},getTickAmount:function(){var e={},t,n=this.options,r=n.tickAmount,i=n.tickPixelInterval;!f(n.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&n.startOnTick&&n.endOnTick&&(r=2),!r&&this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&($t(this.chart[this.coll],function(n){var r=n.options,i=n.horiz,r=[i?r.left:r.top,i?r.width:r.height,r.pane].join(",");e[r]?n.series.length&&(t=!0):e[r]=1}),t&&(r=F(this.len/i)+1)),r<4&&(this.finalTickAmt=r,r=5),this.tickAmount=r},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,i=t&&t.length;if(i<n){for(;t.length<n;)t.push(C(t[t.length-1]+e));this.transA*=(i-1)/(n-1),this.max=t[t.length-1]}else i>n&&(this.tickInterval*=2,this.setTickPositions());if(f(r)){for(e=n=t.length;e--;)(r===3&&e%2===1||r<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=_}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,$t(this.series,function(t){if(t.isDirtyData||t.isDirty||t.xAxis.isDirty)e=!0});if(t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax}else this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart,n=qt(n,!0);$t(s.series,function(e){delete e.kdTree}),i=It(i,{min:e,max:t}),Zt(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,n&&o.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options,s=q(n,qt(i.min,n)),i=I(r,qt(i.max,r));return this.allowZoomOutside||(f(n)&&e<=s&&(e=s),f(r)&&t>=i&&(t=i)),this.displayBtn=e!==_||t!==_,this.setExtremes(e,t,!1,_,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=qt(t.width,e.plotWidth-n+(t.offsetRight||0)),s=qt(t.height,e.plotHeight),o=qt(t.top,e.plotTop),t=qt(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseFloat(s)/100*e.plotHeight),n.test(o)&&(o=parseFloat(o)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=i,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-i-t,this.len=I(r?i:s,0),this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?C(u(this.min)):this.min,max:e?C(u(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?u(this.min):this.min,t=t?u(this.max):this.max;return e===null?e=t<0?t:n:n>e?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(qt(e,0)-this.side*90+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},unsquish:function(){var e=this.ticks,t=this.options.labels,n=this.horiz,r=this.tickInterval,i=r,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),o,u=t.rotation,a=this.chart.renderer.fontMetrics(t.style.fontSize,e[0]&&e[0].label),l,c=Number.MAX_VALUE,h,p=function(e){return e/=s||1,e=e>1?F(e):1,e*r};return n?(h=f(u)?[u]:s<qt(t.autoRotationLimit,80)&&!t.staggerLines&&!t.step&&t.autoRotation)&&$t(h,function(e){var t;if(e===u||e&&e>=-90&&e<=90)l=p(R(a.h/z(X*e))),t=l+R(e/360),t<c&&(c=t,o=e,i=l)}):t.step||(i=p(a.h)),this.autoRotation=h,this.labelRotation=o,i},renderUnsquish:function(){var t=this.chart,r=t.renderer,i=this.tickPositions,s=this.ticks,o=this.options.labels,u=this.horiz,a=t.margin,f=this.categories?i.length:i.length-1,l=this.slotWidth=u&&!o.step&&!o.rotation&&(this.staggerLines||1)*t.plotWidth/f||!u&&(a[3]&&a[3]-t.spacing[3]||t.chartWidth*.33),c=I(1,B(l-2*(o.padding||5))),h={},a=r.fontMetrics(o.style.fontSize,s[0]&&s[0].label),f=o.style.textOverflow,p,d=0;n(o.rotation)||(h.rotation=o.rotation||0);if(this.autoRotation)$t(i,function(e){(e=s[e])&&e.labelLength>d&&(d=e.labelLength)}),d>c&&d>a.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(l&&(p={width:c+"px"},!f)){p.textOverflow="clip";for(l=i.length;!u&&l--;)if(c=i[l],c=s[c].label)if(c.styles.textOverflow==="ellipsis"&&c.css({textOverflow:"clip"}),c.getBBox().height>this.len/i.length-(a.h-a.f))c.specCss={textOverflow:"ellipsis"}}h.rotation&&(p={width:(d>t.chartHeight*.5?t.chartHeight*.33:t.chartHeight)+"px"},!f)&&(p.textOverflow="ellipsis"),this.labelAlign=h.align=o.align||this.autoLabelAlign(this.labelRotation),$t(i,function(t){var n=(t=s[t])&&t.label;n&&(p&&n.css(e(p,n.specCss)),delete n.specCss,n.attr(h),t.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(a.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||f(this.min)&&f(this.max)&&!!this.tickPositions},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,l,c,h=0,p,d=0,v=r.title,m=r.labels,g=0,y=t.axisOffset,t=t.clipOffset,b=[-1,1,1,-1][u],w;l=e.hasData(),e.showAxis=c=l||qt(r.showEmpty,!0),e.staggerLines=e.horiz&&m.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add());if(l||e.isLinked){if($t(i,function(t){s[t]?s[t].addLabel():s[t]=new O(e,t)}),e.renderUnsquish(),$t(i,function(t){if(u===0||u===2||{1:"left",3:"right"}[u]===e.labelAlign)g=I(s[t].getLabelSize(),g)}),e.staggerLines)g*=e.staggerLines,e.labelOffset=g}else for(w in s)s[w].destroy(),delete s[w];v&&v.text&&v.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(v.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],p=v.offset,d=f(p)?0:qt(v.margin,o?5:10)),e.axisTitle[c?"show":"hide"]()),e.offset=b*qt(r.offset,y[u]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},n=u===2?e.tickRotCorr.y:0,o=g+d+(g&&b*(o?qt(m.y,e.tickRotCorr.y+8):m.x)-n),e.axisTitleMargin=qt(p,o),y[u]=I(y[u],e.axisTitleMargin+h+b*e.offset,o),r=r.offset?0:j(r.lineWidth/2)*2,t[a]=I(t[a],r)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,n=this.left,r=this.top,i=this.len,s=this.options.title,o=e?n:r,u=this.opposite,a=this.offset,f=s.x||0,l=s.y||0,c=t(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],n=(e?r+this.height:n)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?c:0);return{x:e?i+f:n+(u?this.width:0)+a+f,y:e?n+l-(u?this.height:0)+a:i+l}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,a=e.axisTitle,l=e.ticks,c=e.minorTicks,h=e.alternateBands,p=r.stackLabels,d=r.alternateGridColor,v=e.tickmarkOffset,m=r.lineWidth,g,y=t.hasRendered&&f(e.oldMin)&&!isNaN(e.oldMin),b=e.showAxis,w=n.globalAnimation,E,S;e.labelEdge.length=0,e.overlap=!1,$t([l,c,h],function(e){for(var t in e)e[t].isActive=!1});if(e.hasData()||s)e.minorTickInterval&&!e.categories&&$t(e.getMinorTickPositions(),function(t){c[t]||(c[t]=new O(e,t,"minor")),y&&c[t].isNew&&c[t].render(null,!0),c[t].render(null,!1,1)}),o.length&&($t(o,function(t,n){if(!s||t>=e.min&&t<=e.max)l[t]||(l[t]=new O(e,t)),y&&l[t].isNew&&l[t].render(n,!0,.1),l[t].render(n)}),v&&(e.min===0||e.single))&&(l[-1]||(l[-1]=new O(e,-1,null,!0)),l[-1].render(-1)),d&&$t(o,function(t,n){n%2===0&&t<e.max&&(h[t]||(h[t]=new Ft.PlotLineOrBand(e)),E=t+v,S=o[n+1]!==_?o[n+1]+v:e.max,h[t].options={from:i?u(E):E,to:i?u(S):S,color:d},h[t].render(),h[t].isActive=!0)}),e._addedPlotLB||($t((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0);$t([l,c,h],function(e){var n,r,i=[],s=w?w.duration||500:0,o=function(){for(r=i.length;r--;)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(n in e)e[n].isActive||(e[n].render(n,!1,0),e[n].isActive=!1,i.push(n));e===h||!t.hasRendered||!s?o():s&&setTimeout(o,s)}),m&&(g=e.getLinePath(m),e.axisLine?e.axisLine.animate({d:g}):e.axisLine=n.path(g).attr({stroke:r.lineColor,"stroke-width":m,zIndex:7}).add(e.axisGroup),e.axisLine[b?"show":"hide"]()),a&&b&&(a[a.isNew?"attr":"animate"](e.getTitlePosition()),a.isNew=!1),p&&p.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),$t(this.plotLinesAndBands,function(e){e.render()}),$t(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||Yt(t);for(r in n)x(n[r]),n[r]=null;$t([t.ticks,t.minorTicks,t.alternateBands],function(e){x(e)});for(e=i.length;e--;)i[e].destroy();$t("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var n,r=this.crosshair,i=r.animation;!this.crosshair||(f(t)||!qt(this.crosshair.snap,!0))===!1||t&&t.series&&t.series[this.coll]!==this?this.hideCrosshair():(qt(r.snap,!0)?f(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:qt(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,n===null)?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i):(i=this.categories&&!this.isRadial,i={"stroke-width":r.width||(i?this.transA:1),stroke:r.color||(i?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add())},hideCrosshair:function(){this.cross&&this.cross.hide()}},It(hn.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n&&r.toString()!==n.toString()?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Ft.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();$t([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&a(t,t[i])})}}),hn.prototype.getTimeTicks=function(e,t,n,r){var i=[],s={},o=at.global.useUTC,u,a=new wt(t-m(t)),l=e.unitRange,c=e.count;if(f(t)){a[Ot](l>=ct.second?0:c*j(a.getMilliseconds()/c)),l>=ct.second&&a[Mt](l>=ct.minute?0:c*j(a.getSeconds()/c)),l>=ct.minute&&a[_t](l>=ct.hour?0:c*j(a[Tt]()/c)),l>=ct.hour&&a[Dt](l>=ct.day?0:c*j(a[Nt]()/c)),l>=ct.day&&a[Pt](l>=ct.month?1:c*j(a[kt]()/c)),l>=ct.month&&(a[Ht](l>=ct.year?0:c*j(a[Lt]()/c)),u=a[At]()),l>=ct.year&&(u-=u%c,a[Bt](u)),l===ct.week&&a[Pt](a[kt]()-a[Ct]()+qt(r,1)),t=1;if(St||xt)a=a.getTime(),a=new wt(a+m(a));u=a[At]();for(var r=a.getTime(),h=a[Lt](),p=a[kt](),d=(ct.day+(o?m(a):a.getTimezoneOffset()*6e4))%ct.day;r<n;)i.push(r),l===ct.year?r=Et(u+t*c,0):l===ct.month?r=Et(u,h+t*c):!!o||l!==ct.day&&l!==ct.week?r+=l*c:r=Et(u,h,p+t*c*(l===ct.day?1:7)),t++;i.push(r),$t(Jt(i,function(e){return l<=ct.hour&&e%ct.day===d}),function(e){s[e]="day"})}return i.info=It(e,{higherRanks:s,totalRange:l*c}),i},hn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=ct[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=ct[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+ct[n[o+1][0]])/2)break;return i===ct.year&&e<5*i&&(s=[1,2,5]),n=b(e/i,s,r[0]==="year"?I(y(e/i),1):1),{unitRange:i,count:n,unitName:r[0]}},hn.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,a=[];r||(this._minorAutoInterval=null);if(e>=.5)e=B(e),a=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=j(t),f,l,c,h,p,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!p;s++){l=i.length;for(f=0;f<l&&!p;f++)c=o(u(s)*i[f]),c>t&&(!r||h<=n)&&h!==_&&a.push(h),h>n&&(p=!0),h=c}else if(t=u(t),n=u(n),e=i[r?"minorTickInterval":"tickInterval"],e=qt(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=b(e,null,y(e)),a=Qt(this.getLinearTickPositions(e,t,n),o),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),a};var pn=Ft.Tooltip=function(){this.init.apply(this,arguments)};pn.prototype={init:function(e,n){var r=n.borderWidth,i=n.style,s=t(i.padding);this.chart=e,this.options=n,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,n.shape||"callout",null,null,n.useHTML,null,"tooltip").attr({padding:s,fill:n.backgroundColor,"stroke-width":r,r:n.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),nt||this.label.shadow(n.shadow),this.shared=n.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==!1&&!i.isHidden&&(R(e-s.x)>1||R(t-s.y)>1),u=i.followPointer||i.len>1;It(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:u?_:o?(2*s.anchorX+n)/3:n,anchorY:u?_:o?(s.anchorY+r)/2:r}),i.label.attr(s),o&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),this.isHidden||(this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},qt(e,this.options.hideDelay,500)))},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=r.plotLeft,u=0,a=0,f,l,e=c(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===_&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||($t(e,function(e){f=e.series.yAxis,l=e.series.xAxis,u+=e.plotX+(!i&&l?l.left-o:0),a+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&f?f.top-s:0)}),u/=e.length,a/=e.length,n=[i?r.plotWidth-a:u,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-u:a]),Qt(n,B)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o=n.h||0,u,a=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],f=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],l=qt(n.ttBelow,r.inverted&&!n.negative||!r.inverted&&n.negative),c=function(e,t,n,r,u,a){var f=n<r-i,c=r+i+n<t,h=r-i-n;r+=i;if(l&&c)s[e]=r;else if(!l&&f)s[e]=h;else if(f)s[e]=q(a-n,h-o<0?h:h-o);else{if(!c)return!1;s[e]=I(u,r+o+n>t?r:r+o)}},h=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},p=function(e){var t=a;a=f,f=t,u=e},d=function(){c.apply(0,a)!==!1?h.apply(0,f)===!1&&!u&&(p(!0),d()):u?s.x=s.y=0:(p(!0),d())};return(r.inverted||this.len>1)&&p(),d(),s},defaultFormatter:function(e){var t=this.points||c(this),n;return n=[e.tooltipFooterHeaderFormatter(t[0])],n=n.concat(e.bodyFormatter(t)),n.push(e.tooltipFooterHeaderFormatter(t[0],!0)),n.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u,a={},f,l=[];f=i.formatter||this.defaultFormatter;var a=n.hoverPoints,h,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(e)[0].series.tooltipOptions.followPointer,u=this.getAnchor(e,t),s=u[0],o=u[1],p&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,a&&$t(a,function(e){e.setState()}),$t(e,function(e){e.setState("hover"),l.push(e.getLabelConfig())}),a={x:e[0].category,y:e[0].y},a.points=l,this.len=l.length,e=e[0]):a=e.getLabelConfig(),f=f.call(a,this),a=e.series,this.distance=qt(a.tooltipOptions.distance,16),f===!1?this.hide():(this.isHidden&&(nn(r),r.attr("opacity",1).show()),r.attr({text:f}),h=i.borderColor||e.color||a.color||"#606060",r.attr({stroke:h}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow,h:u[2]||0}),this.isHidden=!1),Zt(n,"tooltipRefresh",{text:f,x:s+n.plotLeft,y:o+n.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(B(n.x),B(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,t=t.dateTimeLabelFormats,i=n&&n.closestPointRange,s,o={millisecond:15,second:12,minute:9,hour:6,day:3},u,a="millisecond";if(i){u=ft("%m-%d %H:%M:%S.%L",e.x);for(s in ct){if(i===ct.week&&+ft("%w",e.x)===n.options.startOfWeek&&u.substr(6)==="00:00:00.000"){s="week";break}if(ct[s]>i){s=a;break}if(o[s]&&u.substr(o[s])!=="01-01 00:00:00.000".substr(o[s]))break;s!=="week"&&(a=s)}s&&(r=t[s])}else r=t.day;return r||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,o=i.xDateFormat,u=r.xAxis,a=u&&u.options.type==="datetime"&&s(e.key),n=i[n+"Format"];return a&&!o&&(o=this.getXDateFormat(e,i,u)),a&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),g(n,{point:e,series:r})},bodyFormatter:function(e){return Qt(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var dn;it=D.documentElement.ontouchstart!==_;var vn=Ft.Pointer=function(e,t){this.init(e,t)};vn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=nt?"":n.zoomType,n=e.inverted,s;this.options=t,this.chart=e,this.zoomX=s=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=s&&!n||i&&n,this.zoomVert=i&&!n||s&&n,this.hasZoom=s||i,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},Ft.Tooltip&&t.tooltip.enabled&&(e.tooltip=new pn(e,t.tooltip),this.followTouchMove=qt(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var n,r,e=e||window.event,e=en(e);return e.target||(e.target=e.srcElement),r=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Kt(this.chart.container)),r.pageX===_?(n=I(e.x,e.clientX-t.left),r=e.y):(n=r.pageX-t.left,r=r.pageY-t.top),It(e,{chartX:B(n),chartY:B(r)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return $t(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i=r?r.shared:!1,s=t.hoverPoint,o=t.hoverSeries,u,a=t.chartWidth,f,l,c=[],h,p;if(!i&&!o)for(u=0;u<n.length;u++)if(n[u].directTouch||!n[u].options.stickyTracking)n=[];!i&&o&&o.directTouch&&s?h=s:($t(n,function(t){f=t.noSharedTooltip&&i,l=!i&&t.directTouch,t.visible&&!f&&!l&&qt(t.options.enableMouseTracking,!0)&&(p=t.searchPoint(e,!f&&t.kdDimensions===1))&&c.push(p)}),$t(c,function(e){e&&typeof e.dist=="number"&&e.dist<a&&(a=e.dist,h=e)}));if(h&&(h!==this.prevKDPoint||r&&r.isHidden)){if(i&&!h.series.noSharedTooltip){for(u=c.length;u--;)(c[u].clientX!==h.clientX||c[u].series.noSharedTooltip)&&c.splice(u,1);c.length&&r&&r.refresh(c,e),$t(c,function(t){t.onMouseOver(e,t!==(o&&o.directTouch&&s||h))})}else(r&&r.refresh(h,e),!o||!o.directTouch)&&h.onMouseOver(e);this.prevKDPoint=h}else n=o&&o.tooltipOptions.followPointer,r&&n&&!r.isHidden&&(n=r.getAnchor([{}],e),r.updatePosition({plotX:n[0],plotY:n[1]}));r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){pt[dn]&&pt[dn].pointer.onDocumentMouseMove(e)},Gt(D,"mousemove",this._onDocumentMouseMove)),$t(t.axes,function(t){t.drawCrosshair(e,qt(h,s))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.hoverPoints,o=n.tooltip,u=o&&o.shared?s:i;(e=e&&o&&u)&&c(u)[0].plotX===_&&(e=!1),e?(o.refresh(u),i&&(i.setState(i.state,!0),$t(n.axes,function(e){qt(e.options.crosshair&&e.options.crosshair.snap,!0)?e.drawCrosshair(null,i):e.hideCrosshair()}))):(i&&i.onMouseOut(),s&&$t(s,function(e){e.setState()}),r&&r.onMouseOut(),o&&o.hide(t),this._onDocumentMouseMove&&(Yt(D,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),$t(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n=this.chart,r;$t(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.selectionMarker,p=this.mouseDownX,d=this.mouseDownY,v=n.panKey&&e[n.panKey+"Key"];if(!h||!h.touch)if(r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+l&&(i=a+l),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(d-i,2)),this.hasDragged>10)c=t.isInsidePlot(p-u,d-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!v&&!h&&(this.selectionMarker=h=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&s&&(r-=p,h.attr({width:R(r),x:(r>0?0:r)+p})),h&&o&&(r=i-d,h.attr({height:R(r),y:(r>0?0:r)+d})),c&&!h&&n.panning&&t.pan(e,n.panning)},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,l=s.attr?s.attr("height"):s.height,c;if(this.hasDragged||r)$t(n.axes,function(n){if(n.zoomEnabled&&f(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,h=e.type==="touchend"?n.minPixelPadding:0,p=n.toValue((s?o:u)+h),s=n.toValue((s?o+a:u+l)-h);i[n.coll].push({axis:n,min:q(p,s),max:I(p,s)}),c=!0}}),c&&Zt(n,"selection",i,function(e){n.zoom(It(e,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(h(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){pt[dn]&&pt[dn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=pt[dn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;dn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=l(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&n!==t&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,e=this.normalize(e);e.originalEvent=e,t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Zt(n.series,"click",It(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(It(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&Zt(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Gt(t,"mouseleave",e.onContainerMouseLeave),dt===1&&Gt(D,"mouseup",e.onDocumentMouseUp),it&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},dt===1&&Gt(D,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Yt(this.chart.container,"mouseleave",this.onContainerMouseLeave),dt||(Yt(D,"mouseup",this.onDocumentMouseUp),Yt(D,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},It(Ft.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=t.length===1,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T,n=function(){!b&&R(w-S)>20&&(m=u||R(E-x)/R(w-S)),v=(p-E)/m+w,d=a["plot"+(e?"Width":"Height")]/m};n(),t=v,t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0),T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x],g||(s[f]=v-p,s[h]=d),s=g?1/m:m,i[h]=d,i[f]=t,r[g?e?"scaleY":"scaleX":"scale"+l]=m,r["translate"+l]=s*p+(E-s*w)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,s=i.length,o=t.lastValidTouch,u=t.hasZoom,a=t.selectionMarker,f={},l=s===1&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),c={};s>1&&(t.initiated=!0),u&&t.initiated&&!l&&e.preventDefault(),Qt(i,function(e){return t.normalize(e)}),e.type==="touchstart"?($t(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],$t(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(qt(e.options.min,e.dataMin)),s=e.toPixels(qt(e.options.max,e.dataMax)),o=q(i,s),i=I(i,s);t.min=q(e.pos,o-r),t.max=I(e.pos+e.len,i+r)}}),t.res=!0):r.length&&(a||(t.selectionMarker=a=It({destroy:ht,touch:!0},n.plotBox)),t.pinchTranslate(r,i,f,a,c,o),t.hasPinched=u,t.scaleGroups(f,c),!u&&t.followTouchMove&&s===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n=this.chart;dn=n.index,e.touches.length===1?(e=this.normalize(e),n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&!n.openMenu?(t&&this.runPointActions(e),this.pinch(e)):t&&this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){pt[dn]&&pt[dn].pointer.drop(e)}});if(P.PointerEvent||P.MSPointerEvent){var mn={},gn=!!P.PointerEvent,yn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in mn)mn.hasOwnProperty(e)&&t.push({pageX:mn[e].pageX,pageY:mn[e].pageY,target:mn[e].target});return t},bn=function(e,t,n,r){e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&pt[dn]&&(r(e),r=pt[dn].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:ht,touches:yn()}))};It(vn.prototype,{onContainerPointerDown:function(e){bn(e,"onContainerTouchStart","touchstart",function(e){mn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){bn(e,"onContainerTouchMove","touchmove",function(e){mn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},mn[e.pointerId].target||(mn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){bn(e,"onDocumentTouchEnd","touchend",function(e){delete mn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,gn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,gn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(D,gn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Rt(vn.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&h(t.container,{"-ms-touch-action":mt,"touch-action":mt})}),Rt(vn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Gt)}),Rt(vn.prototype,"destroy",function(e){this.batchMSEvents(Yt),e.call(this)})}var wn=Ft.Legend=function(e,t){this.init(e,t)};wn.prototype={init:function(t,n){var r=this,i=n.itemStyle,s=n.itemMarginTop||0;this.options=n,n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=e(i,n.itemHiddenStyle),r.itemMarginTop=s,r.padding=i=qt(n.padding,8),r.initialItemX=i,r.initialItemY=i-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=qt(n.symbolWidth,16),r.pages=[],r.render(),Gt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n}),i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==_&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;$t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&T(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,$t(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,h(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":mt}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?g(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(t){var n=this.chart,r=n.renderer,i=this.options,s=i.layout==="horizontal",o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?qt(i.itemDistance,20):0,h=!i.rtl,p=i.width,d=i.itemMarginBottom||0,v=this.itemMarginTop,m=this.initialItemX,g=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=i.useHTML;g||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=g=r.text("",h?o+u:-u,this.baseline||0,w).css(e(t.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=r.fontMetrics(a.fontSize,g),this.baseline=this.fontMetrics.f+3+v,g.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,g,w,a,f),this.colorizeItem(t,t.visible),b&&this.createCheckboxForItem(t)),this.setText(t),r=g.getBBox(),o=t.checkboxOffset=i.itemWidth||t.legendItemWidth||o+u+r.width+c+(b?20:0),this.itemHeight=u=B(t.legendItemHeight||r.height),s&&this.itemX-m+o>(p||n.chartWidth-2*l-m-i.x)&&(this.itemX=m,this.itemY+=v+this.lastLineHeight+d,this.lastLineHeight=0),this.maxItemWidth=I(this.maxItemWidth,o),this.lastItemY=v+this.itemY+d,this.lastLineHeight=I(u,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=o:(this.itemY+=v+u+d,this.lastLineHeight=u),this.offsetWidth=p||I((s?this.itemX-m-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];return $t(this.chart.series,function(t){var n=t.options;qt(n.showInLegend,f(n.linkedTo)?!1:_,!0)&&(e=e.concat(t.legendItems||(n.legendType==="point"?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);this.display&&!r.floating&&$t([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,o){s.test(i)&&!f(e[o])&&(n[yt[o]]=I(n[yt[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*r[o%2?"x":"y"]+qt(r.margin,12)+t[o]))})},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),i=e.getAllItems(),w(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,e.lastLineHeight=0,$t(i,function(t){e.renderItem(t)}),o=(f.width||e.offsetWidth)+l,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u),u+=l;if(c||h)a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||mt}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,$t(i,function(t){e.positionItem(t)}),s&&r.align(It({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=qt(f.animation,!0),c=f.arrowSize||12,h=this.nav,p=this.pages,d=this.padding,v,m=this.allItems,g=function(e){a.attr({height:e}),t.contentGroup.div&&(t.contentGroup.div.style.clip="rect("+d+"px,9999px,"+(d+e)+"px,0)")};return i.layout==="horizontal"&&(s/=2),o&&(s=q(s,o)),p.length=0,e>s?(this.clipHeight=u=I(s-20-this.titleHeight-d,0),this.currentPage=qt(this.currentPage,1),this.fullHeight=e,$t(m,function(e,t){var n=e._legendItemPos[1],r=B(e.legendItem.getBBox().height),i=p.length;if(!i||n-p[i-1]>u&&(v||n)!==p[i-1])p.push(v||n),i++;t===m.length-1&&n+r-p[i-1]>u&&p.push(n),n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,d,9999,0),t.contentGroup.clip(a)),g(u),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(g(n.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r),i>0&&(t!==_&&k(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?o:u}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},ln=Ft.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup,e=e.baseline-B(e.fontMetrics.b*.3),o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s)),n&&n.enabled!==!1&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}},(/Trident\/7\.0/.test(V)||G)&&Rt(wn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),zt=Ft.Chart=function(){this.init.apply(this,arguments)},zt.prototype={callbacks:[],init:function(t,n){var r,i=t.series;t.series=null,r=e(at,t),r.series=t.series=i,this.userOptions=t,i=r.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=pt.length,pt.push(o),dt++,i.reflow!==!1&&Gt(o,"load",function(){o.initReflow()});if(s)for(u in s)Gt(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=nt?!1:qt(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=jt[e.type||t.type||t.defaultSeriesType])||N(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t=this.axes,n=this.series,r=this.pointer,i=this.legend,s=this.isDirtyLegend,o,u,a=this.hasCartesianSeries,f=this.isDirtyBox,l=n.length,c=l,h=this.renderer,p=h.isHidden(),d=[];k(e,this),p&&this.cloneRenderTo();for(this.layOutTitles();c--;)if(e=n[c],e.options.stacking&&(o=!0,e.isDirty)){u=!0;break}if(u)for(c=l;c--;)if(e=n[c],e.options.stacking)e.isDirty=!0;$t(n,function(e){e.isDirty&&e.options.legendType==="point"&&(e.updateTotals&&e.updateTotals(),s=!0)}),s&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1),o&&this.getStacks(),a&&!this.isResizing&&(this.maxTicks=null,$t(t,function(e){e.setScale()})),this.getMargins(),a&&($t(t,function(e){e.isDirty&&(f=!0)}),$t(t,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,d.push(function(){Zt(e,"afterSetExtremes",It(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(f||o)&&e.redraw()})),f&&this.drawChartBox(),$t(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),Zt(this,"redraw"),p&&this.cloneRenderTo(!0),$t(d,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=c(t.xAxis||{}),t=t.yAxis=c(t.yAxis||{});$t(n,function(e,t){e.index=t,e.isX=!0}),$t(t,function(e,t){e.index=t}),n=n.concat(t),$t(n,function(t){new hn(e,t)})},getSelectedPoints:function(){var e=[];return $t(this.series,function(t){e=e.concat(Jt(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Jt(this.series,function(e){return e.selected})},setTitle:function(t,n,r){var i,s=this,o=s.options,u;u=o.title=e(o.title,t),i=o.subtitle=e(o.subtitle,n),o=i,$t([["title",t,u],["subtitle",n,o]],function(e){var t=e[0],n=s[t],r=e[1],e=e[2];n&&r&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(r)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,i=i.subtitle,o=this.renderer,u=this.spacingBox.width-44;n&&(n.css({width:(s.width||u)+"px"}).align(It({y:o.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign)&&(t=n.getBBox().height),r&&(r.css({width:(i.width||u)+"px"}).align(It({y:t+(s.margin-13)+o.fontMetrics(s.style.fontSize,r).b},i),!1,"spacingBox"),!i.floating&&!i.verticalAlign&&(t=F(t+r.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&qt(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;f(t)||(this.containerWidth=Wt(n,"width")),f(e)||(this.containerHeight=Wt(n,"height")),this.chartWidth=I(0,t||this.containerWidth||600),this.chartHeight=I(0,qt(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),T(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),D.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var e,r=this.options.chart,i,s,o;this.renderTo=e=r.renderTo,o="highcharts-"+ot++,n(e)&&(this.renderTo=e=D.getElementById(e)),e||N(13,!0),i=t(l(e,"data-highcharts-chart")),!isNaN(i)&&pt[i]&&pt[i].hasRendered&&pt[i].destroy(),l(e,"data-highcharts-chart",this.index),e.innerHTML="",!r.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,s=this.chartHeight,this.container=e=p(vt,{className:"highcharts-container"+(r.className?" "+r.className:""),id:o},It({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=r.forExport?new fn(e,i,s,r.style,!0):new rt(e,i,s,r.style),nt&&this.renderer.create(this,e,i,s),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!f(n[0])&&(this.plotTop=I(this.plotTop,r+this.options.title.margin+t[0])),this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&$t(e.axes,function(e){e.getOffset()}),$t(yt,function(r,i){f(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||Wt(r,"width"),s=n.height||Wt(r,"height"),n=e?e.target:P,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&!t.isPrinting&&i&&s&&(n===P||n===D)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i,t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Gt(P,"resize",t),Gt(e,"destroy",function(){Yt(P,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o,u=r.renderer,a=u.globalAnimation;r.isResizing+=1,o=function(){r&&Zt(r,"endResize",null,function(){r.isResizing-=1})},k(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,f(e)&&(r.chartWidth=i=I(0,B(e)),r.hasUserSize=!!i),f(t)&&(r.chartHeight=s=I(0,B(t))),(a?tn:h)(r.container,{width:i+"px",height:s+"px"},a),r.setChartSize(!0),u.setSize(i,s,n),r.maxTicks=null,$t(r.axes,function(e){e.isDirty=!0,e.setScale()}),$t(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Zt(r,"resize"),a===!1?o():setTimeout(o,a&&a.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=B(this.plotLeft),this.plotTop=f=B(this.plotTop),this.plotWidth=l=I(0,B(r-a-this.marginRight)),this.plotHeight=c=I(0,B(i-f-this.marginBottom)),this.plotSizeX=t?c:l,this.plotSizeY=t?l:c,this.plotBorderWidth=s.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]},this.plotBox=n.plotBox={x:a,y:f,width:l,height:c},r=2*j(this.plotBorderWidth/2),t=F(I(r,u[3])/2),n=F(I(r,u[0])/2),this.clipBox={x:t,y:n,width:j(this.plotSizeX-I(r,u[1])/2-t),height:I(0,j(this.plotSizeY-I(r,u[2])/2-n))},e||$t(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;$t(yt,function(t,n){e[t]=qt(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||mt},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:mt,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;$t(["inverted","angular","polar"],function(o){n=jt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=jt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;$t(t,function(e){e.linkedSeries.length=0}),$t(t,function(t){var r=t.options.linkedTo;n(r)&&(r=r===":previous"?e.series[t.index-1]:e.get(r))&&(r.linkedSeries.push(t),t.linkedParent=r,t.visible=qt(t.options.visible,r.options.visible,t.visible))})},renderSeries:function(){$t(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,n=e.options.labels;n.items&&$t(n.items,function(r){var i=It(n.style,r.style),s=t(i.left)+e.plotLeft,o=t(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(r.html,s,o).attr({zIndex:2}).css(i).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options,r,i,s,o;this.setTitle(),this.legend=new wn(this,n.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,i=this.plotHeight-=13,$t(e,function(e){e.setScale()}),this.getAxisMargins(),s=r/this.plotWidth>1.1,o=i/this.plotHeight>1.1;if(s||o)this.maxTicks=null,$t(e,function(e){(e.horiz&&s||!e.horiz&&o)&&e.setTickInterval(!0)}),this.getMargins();this.drawChartBox(),this.hasCartesianSeries&&$t(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(n.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;Zt(e,"destroy"),pt[e.index]=_,dt--,e.renderTo.removeAttribute("data-highcharts-chart"),Yt(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();$t("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Yt(r),s&&T(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!et&&P==P.top&&D.readyState!=="complete"||nt&&!P.canvg?(nt?cn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):D.attachEvent("onreadystatechange",function(){D.detachEvent("onreadystatechange",e.firstRender),D.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Zt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),$t(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Zt(e,"beforeRender"),Ft.Pointer&&(e.pointer=new vn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),$t(e.callbacks,function(t){e.index!==_&&t.apply(e,[e])}),Zt(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var n=t[e],n=r(n)?n:[n,n,n,n];return[qt(t[e+"Top"],n[0]),qt(t[e+"Right"],n[1]),qt(t[e+"Bottom"],n[2]),qt(t[e+"Left"],n[3])]}};var En=Ft.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r=t.plotWidth-2*n,t=t.plotHeight-2*n,i=e.center,i=[qt(i[0],"50%"),qt(i[1],"50%"),e.size||"100%",e.innerSize||0],s=q(r,t),o,u;for(o=0;o<4;++o)u=i[o],e=o<2||o===2&&/%$/.test(u),i[o]=(/%$/.test(u)?[r,t,s,i[2]][o]*parseFloat(u)/100:parseFloat(u))+(e?n:0);return i}},Sn=function(){};Sn.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,r=n.options.pointValKey||n.pointValKey,e=Sn.prototype.optionsToObject.call(this,e);return It(this,e),this.options=this.options?It(this.options,e):e,r&&(this.y=this[r]),this.x===_&&n&&(this.x=t===_?n.autoIncrement():t),this},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,s=r||n.pointArrayMap||["y"],o=s.length,u=0,a=0;if(typeof e=="number"||e===null)t[s[0]]=e;else if(i(e)){!r&&e.length>o&&(n=typeof e[0],n==="string"?t.name=e[0]:n==="number"&&(t.x=e[0]),u++);for(;a<o;)t[s[a++]]=e[u++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),a(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)Yt(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=qt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return $t(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),g(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Zt(this,e,t,n)}};var xn=Ft.Series=function(){};xn.prototype={isCartesian:!0,type:"line",pointClass:Sn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return qt(e.options.index,e._i)-qt(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),It(n,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),nt&&(t.animation=!1),i=t.events;for(r in i)Gt(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),$t(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,w(s,o),this.yAxis&&w(this.yAxis.series,o),$t(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;$t(e.axisTypes||[],function(i){$t(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==_&&t[i]===r.id||t[i]===_&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0}),!e[i]&&e.optionalAxis!==i&&N(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;$t(n.parallelArrays,typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,n,r=e.pointIntervalUnit,t=qt(t,e.pointStart,0);this.pointInterval=n=qt(this.pointInterval,e.pointInterval,1);if(r==="month"||r==="year")e=new wt(t),e=r==="month"?+e[Ht](e[Lt]()+n):+e[Bt](e[At]()+n),n=e-t;return this.xIncrement=t+n,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else $t(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(t){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];return this.userOptions=t,r=e(s,r.series,t),this.tooltipOptions=e(at.tooltip,at.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,t.tooltip),s.marker===null&&delete r.marker,this.zoneAxis=r.zoneAxis,t=this.zones=(r.zones||[]).slice(),(r.negativeColor||r.negativeFillColor)&&!r.zones&&t.push({value:r[this.zoneAxis+"Threshold"]||r.threshold||0,color:r.negativeColor,fillColor:r.negativeFillColor}),t.length&&f(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(f(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||rn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:ln.drawLineMarker,setData:function(e,t,r,o){var u=this,a=u.points,l=a&&a.length||0,c,h=u.options,p=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=h.turboThreshold,y=this.xData,b=this.yData,w=(c=u.pointArrayMap)&&c.length,e=e||[];c=e.length,t=qt(t,!0);if(o!==!1&&c&&l===c&&!u.cropped&&!u.hasGroupedData&&u.visible)$t(e,function(e,t){a[t].update&&a[t].update(e,!1,null,!1)});else{u.xIncrement=null,u.pointRange=m?1:h.pointRange,u.colorCounter=0,$t(this.parallelArrays,function(e){u[e+"Data"].length=0});if(g&&c>g){for(r=0;d===null&&r<c;)d=e[r],r++;if(s(d)){m=qt(h.pointStart,0),h=qt(h.pointInterval,1);for(r=0;r<c;r++)y[r]=m,b[r]=e[r],m+=h;u.xIncrement=m}else if(i(d))if(w)for(r=0;r<c;r++)h=e[r],y[r]=h[0],b[r]=h.slice(1,w+1);else for(r=0;r<c;r++)h=e[r],y[r]=h[0],b[r]=h[1];else N(12)}else for(r=0;r<c;r++)e[r]!==_&&(h={series:u},u.pointClass.prototype.applyOptions.apply(h,[e[r]]),u.updateParallelArrays(h,r),m&&f(h.name))&&(v.names[h.x]=h.name);n(b[0])&&N(14,!0),u.data=[],u.options.data=e;for(r=l;r--;)a[r]&&a[r].destroy&&a[r].destroy();v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=p.isDirtyBox=!0,r=!1}t&&p.redraw(r)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=this.isCartesian,c,h;if(l&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(e=u.getExtremes(),c=e.min,h=e.max);if(l&&this.sorted&&(!a||r>a||this.forceCrop))if(t[r-1]<c||t[0]>h)t=[],n=[];else if(t[0]<c||t[r-1]>h)i=this.cropData(this.xData,this.yData,c,h),t=i.xData,n=i.yData,i=i.start,s=!0;for(a=t.length-1;a>=0;a--)r=t[a]-t[a-1],r>0&&(o===_||r<o)?o=r:r<0&&this.requireSorting&&N(15);this.cropped=s,this.cropStart=i,this.processedXData=t,this.processedYData=n,f.pointRange===null&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=qt(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=I(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,h=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?h[p]=(new s).init(this,[r[p]].concat(c(i[p]))):(t[a]?l=t[a]:e[a]!==_&&(t[a]=l=(new s).init(this,e[a],r[p])),h[p]=l),h[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=_;this.data=t,this.points=h},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c,e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=l!==null&&l!==_&&(!t.isLog||l.length||l>0),f=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)l[a]!==null&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=E(i),this.dataMax=S(i)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,o=this.points,u=o.length,a=!!this.modifyValue,l=e.pointPlacement,c=l==="between"||s(l),h=e.threshold,p=e.startFromThreshold?h:0,d,v,m,g=Number.MAX_VALUE,e=0;e<u;e++){var y=o[e],b=y.x,w=y.y;v=y.low;var E=t&&i.stacks[(this.negStacks&&w<(p?0:h)?"-":"")+this.stackKey];i.isLog&&w!==null&&w<=0&&(y.y=w=null,N(10)),y.plotX=d=q(I(-1e5,n.translate(b,0,0,0,1,l,this.type==="flags")),1e5),t&&this.visible&&E&&E[b]&&(E=E[b],w=E.points[this.index+","+e],v=w[0],w=w[1],v===p&&(v=qt(h,i.min)),i.isLog&&v<=0&&(v=null),y.total=y.stackTotal=E.total,y.percentage=E.total&&y.y/E.total*100,y.stackY=w,E.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=f(v)?i.translate(v,0,1,0,1):null,a&&(w=this.modifyValue(w,y)),y.plotY=v=typeof w=="number"&&w!==Infinity?q(I(-1e5,i.translate(w,0,1,0,1)),1e5):_,y.isInside=v!==_&&v>=0&&v<=i.len&&d>=0&&d<=n.len,y.clientX=c?n.translate(b,0,0,0,1):d,y.negative=y.y<(h||0),y.category=r&&r[y.x]!==_?r[y.x]:y.x,e&&(g=q(g,R(d-m))),m=d}this.closestPointRangePx=g,this.getSegments()},setClip:function(e){var t=this.chart,n=t.renderer,r=t.inverted,i=this.clipBox,s=i||t.clipBox,o=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,s.height].join(","),u=t[o],a=t[o+"m"];u||(e&&(s.width=0,t[o+"m"]=a=n.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[o]=u=n.clipRect(s)),e&&(u.count+=1),this.options.clip!==!1&&(this.group.clip(e||i?u:t.clipRect),this.markerGroup.clip(a),this.sharedClipKey=o),e||(u.count-=1,u.count<=0&&o&&t[o]&&(i||(t[o]=t[o].destroy()),t[o+"m"]&&(t[o+"m"]=t[o+"m"].destroy())))},animate:function(e){var t=this.chart,n=this.options.animation,i;n&&!r(n)&&(n=rn[this.type].animation),e?this.setClip(n):(i=this.sharedClipKey,(e=t[i])&&e.animate({width:t.plotSizeX},n),t[i+"m"]&&t[i+"m"].animate({width:t.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Zt(this,"afterAnimate")},drawPoints:function(){var e,t=this.points,n=this.chart,r,i,s,o,u,a,f,l,c=this.options.marker,h=this.pointAttr[""],p,d,v,m=this.markerGroup,g=qt(c.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*c.radius);if(c.enabled!==!1||this._hasPointMarkers)for(s=t.length;s--;)(o=t[s],r=j(o.plotX),i=o.plotY,l=o.graphic,p=o.marker||{},d=!!o.marker,e=g&&p.enabled===_||p.enabled,v=o.isInside,e&&i!==_&&!isNaN(i)&&o.y!==null)?(e=o.pointAttr[o.selected?"select":""]||h,u=e.r,a=qt(p.symbol,this.symbol),f=a.indexOf("url")===0,l)?l[v?"show":"hide"](!0).animate(It({x:r-u,y:i-u},l.symbolName?{width:2*u,height:2*u}:{})):v&&(u>0||f)&&(o.graphic=n.renderer.symbol(a,r-u,i-u,2*u,2*u,d?p:c).attr(e).add(m)):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=qt(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=rn[e.type].marker?t.marker:t,r=n.states,i=r.hover,s,o=e.color,u=e.options.negativeColor;s={stroke:o,fill:o};var a=e.points||[],l,c,h=[],p=e.pointAttrToOptions;l=e.hasPointSpecificOptions;var d=n.lineColor,v=n.fillColor;c=t.turboThreshold;var m=e.zones,g=e.zoneAxis||"y",y;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||an(i.color||o).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||an(i.negativeColor||u).brighten(i.brightness).get()),h[""]=e.convertAttribs(n,s),$t(["hover","select"],function(t){h[t]=e.convertAttribs(r[t],h[""])}),e.pointAttr=h,o=a.length;if(!c||o<c||l)for(;o--;){c=a[o],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0);if(m.length){l=0;for(s=m[l];c[g]>=s.value;)s=m[++l];s.color&&(c.color=c.fillColor=s.color)}l=t.colorByPoint||c.color;if(c.options)for(y in p)f(n[p[y]])&&(l=!0);l?(n=n||{},l=[],r=n.states||{},s=r.hover=r.hover||{},t.marker||(s.color=s.color||!c.options.color&&i[c.negative&&u?"negativeColor":"color"]||an(c.color).brighten(s.brightness||i.brightness).get()),s={color:c.color},v||(s.fillColor=c.color),d||(s.lineColor=c.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,l[""]=e.convertAttribs(It(s,n),h[""]),l.hover=e.convertAttribs(r.hover,h.hover,l[""]),l.select=e.convertAttribs(r.select,h.select,l[""])):l=h,c.pointAttr=l}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(V),r,i=e.data||[],s,o,u;Zt(e,"destroy"),Yt(e),$t(e.axisTypes||[],function(t){if(u=e[t])a(u.series,e),u.isDirty=u.forceRedraw=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(r=i.length;r--;)(s=i[r])&&s.destroy&&s.destroy();e.points=null,clearTimeout(e.animationTimeout);for(o in e)e[o]instanceof A&&!e[o].survive&&(r=n&&o==="group"?"hide":"destroy",e[o][r]());t.hoverSeries===e&&(t.hoverSeries=null),a(t.series,e);for(o in e)delete e[o]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return $t(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return $t(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i=t.linecap!=="square",s=this.getGraphPath(),o=this.fillGraph&&this.color||mt;$t(this.zones,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),$t(n,function(n,u){var a=n[0],f=e[a];f?f.animate({d:s}):(r||o)&&s.length&&(f={stroke:n[1],"stroke-width":r,fill:o,zIndex:1},n[2]?f.dashstyle=n[2]:i&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(s).attr(f).add(e.group).shadow(u<2&&t.shadow))})},applyZones:function(){var e=this,t=this.chart,n=t.renderer,r=this.zones,i,s,o=this.clips||[],u,a=this.graph,f=this.area,l=I(t.chartWidth,t.chartHeight),c=this[(this.zoneAxis||"y")+"Axis"],h,p=c.reversed,d=t.inverted,v=c.horiz,m,g,y,b=!1;r.length&&(a||f)&&c.min!==_&&(a&&a.hide(),f&&f.hide(),h=c.getExtremes(),$t(r,function(r,w){i=p?v?t.plotWidth:0:v?0:c.toPixels(h.min),i=q(I(qt(s,i),0),l),s=q(I(B(c.toPixels(qt(r.value,h.max),!0)),0),l),b&&(i=s=c.toPixels(h.max)),m=Math.abs(i-s),g=q(i,s),y=I(i,s);if(c.isXAxis){if(u={x:d?y:g,y:0,width:m,height:l},!v)u.x=t.plotHeight-u.x}else if(u={x:0,y:d?y:g,width:l,height:m},v)u.y=t.plotWidth-u.y;t.inverted&&n.isVML&&(u=c.isXAxis?{x:0,y:p?g:y,height:u.width,width:t.chartWidth}:{x:u.y-t.plotLeft-t.spacingBox.x,y:0,width:u.height,height:t.chartHeight}),o[w]?o[w].animate(u):(o[w]=n.clipRect(u),a&&e["zoneGraph"+w].clip(o[w]),f&&e["zoneArea"+w].clip(o[w])),b=r.value>h.max}),this.clips=o)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};$t(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Gt(n,"resize",e),Gt(t,"destroy",function(){Yt(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&qt(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a),i&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),$t(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!u&&n.clip(t.clipRect),i&&e.animate(),u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.isDirty,r=this.group,i=this.xAxis,s=this.yAxis;r&&(e.inverted&&r.attr({width:e.plotWidth,height:e.plotHeight}),r.animate({translateX:qt(i&&i.left,e.plotLeft),translateY:qt(s&&s.top,e.plotTop)})),this.translate(),this.render(),t&&Zt(this,"updatedData"),(n||t)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){function e(t,r,i){var s,o;if(o=t&&t.length)return s=n.kdAxisArray[r%i],t.sort(function(e,t){return e[s]-t[s]}),o=Math.floor(o/2),{point:t[o],left:e(t.slice(0,o),r+1,i),right:e(t.slice(o+1),r+1,i)}}function t(){var t=Jt(n.points||[],function(e){return e.y!==null});n.kdTree=e(t,r,r)}var n=this,r=n.kdDimensions;delete n.kdTree,n.options.kdSync?t():setTimeout(t)},searchKDTree:function(e,t){function n(e,t,u,a){var l=t.point,c=r.kdAxisArray[u%a],h,p,d=l;return p=f(e[i])&&f(l[i])?Math.pow(e[i]-l[i],2):null,h=f(e[s])&&f(l[s])?Math.pow(e[s]-l[s],2):null,h=(p||0)+(h||0),l.dist=f(h)?Math.sqrt(h):Number.MAX_VALUE,l.distX=f(p)?Math.sqrt(p):Number.MAX_VALUE,c=e[c]-l[c],h=c<0?"left":"right",p=c<0?"right":"left",t[h]&&(h=n(e,t[h],u+1,a),d=h[o]<d[o]?h:l),t[p]&&Math.sqrt(c*c)<d[o]&&(e=n(e,t[p],u+1,a),d=e[o]<d[o]?e:d),d}var r=this,i=this.kdAxisArray[0],s=this.kdAxisArray[1],o=t?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},M.prototype={destroy:function(){x(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?g(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=n.reversed,s=this.isNegative&&!s||!this.isNegative&&s,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=R(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[this.options.crop===!1||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}},zt.prototype.getStacks=function(){var e=this;$t(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),$t(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+qt(t.options.stack,""))})},hn.prototype.buildStacks=function(){var e=this.series,t=qt(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},hn.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)},hn.prototype.resetStacks=function(){var e=this.stacks,t,n;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].touched<this.stacksTouched?(e[t][n].destroy(),delete e[t][n]):(e[t][n].total=null,e[t][n].cum=0)},hn.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},xn.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.startFromThreshold?s:0,u=i.stack,i=i.stacking,a=this.stackKey,f="-"+a,l=this.negStacks,c=this.yAxis,h=c.stacks,p=c.oldStacks,d,v,m,g,y,b;c.stacksTouched+=1;for(g=0;g<r;g++)y=e[g],b=t[g],m=this.index+","+g,v=(d=l&&b<(o?0:s))?f:a,h[v]||(h[v]={}),h[v][y]||(p[v]&&p[v][y]?(h[v][y]=p[v][y],h[v][y].total=null):h[v][y]=new M(c,c.options.stackLabels,d,y,u)),v=h[v][y],v.points[m]=[qt(v.cum,o)],v.touched=c.stacksTouched,i==="percent"?(d=d?a:f,l&&h[d]&&h[d][y]?(d=h[d][y],v.total=d.total=I(d.total,v.total)+R(b)||0):v.total=C(v.total+(R(b)||0))):v.total=C(v.total+(b||0)),v.cum=qt(v.cum,o)+(b||0),v.points[m].push(v.cum),n[g]=v.cum;i==="percent"&&(c.usePercentage=!0),this.stackedYData=n,c.oldStacks={}}},xn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;$t([t,"-"+t],function(t){var i;for(var s=r.length,o,u;s--;)if(o=r[s],i=(u=n[t]&&n[t][o])&&u.points[e.index+","+s],o=i)u=u.total?100/u.total:0,o[0]=C(o[0]*u),o[1]=C(o[1]*u),e.stackedYData[s]=o[1]})},It(zt.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=qt(t,!0),Zt(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(t,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new hn(this,e(t,{index:this[s].length,isX:n})),o[s]=c(o[s]||{}),o[s].push(t),qt(r,!0)&&this.redraw(i)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&h(r,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};r||(t.loadingDiv=r=p(vt,{className:"highcharts-loading"},It(i.style,{zIndex:10,display:mt}),t.container),t.loadingSpan=p("span",null,i.labelStyle,r),Gt(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(h(r,{opacity:0,display:""}),tn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&tn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:mt})}}),this.loadingShown=!1}}),It(Sn.prototype,{update:function(e,t,n,s){function o(){u.applyOptions(e),u.y===null&&f&&(u.graphic=f.destroy()),r(e)&&!i(e)&&(u.redraw=function(){f&&f.element&&e&&e.marker&&e.marker.symbol&&(u.graphic=f.destroy()),e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy()),u.redraw=null}),l=u.index,a.updateParallelArrays(u,l),p&&u.name&&(p[u.x]=u.name),h.data[l]=u.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options,p=a.xAxis&&a.xAxis.names,t=qt(t,!0);s===!1?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){this.series.removePoint(Vt(this,this.series.data),e,t)}}),It(xn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=["graph","area"],u=s.data,p,d=i.xData;k(r,f);if(n){for(r=i.zones.length;r--;)h.push("zoneGraph"+r,"zoneArea"+r);$t(h,function(e){i[e]&&(i[e].shift=c+1)})}a&&(a.isArea=!0),t=qt(t,!0),a={series:i},i.pointClass.prototype.applyOptions.apply(a,[e]),h=a.x,r=d.length;if(i.requireSorting&&h<d[r-1])for(p=!0;r&&d[r-1]>h;)r--;i.updateParallelArrays(a,"splice",r,0,0),i.updateParallelArrays(a,r),l&&a.name&&(l[h]=a.name),u.splice(r,0,e),p&&(i.data.splice(r,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(a,"shift"),u.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};k(n,u),t=qt(t,!0),s?s.firePointEvent("remove",null,a):a()},remove:function(e,t){var n=this,r=n.chart,e=qt(e,!0);n.isRemoving||(n.isRemoving=!0,Zt(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=jt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;if(t.type&&t.type!==o||t.zIndex!==void 0)a.length=0;$t(a,function(e){a[e]=r[e],delete r[e]}),t=e(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)this[f]=_;It(this,jt[t.type||o].prototype),$t(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),qt(n,!0)&&i.redraw(!1)}}),It(hn.prototype,{update:function(t,n){var r=this.chart,t=r.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=_,this.init(r,It(t,{events:_})),r.isDirtyBox=!0,qt(n,!0)&&r.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);a(t.axes,this),a(t[n],this),t.options[n].splice(this.options.index,1),$t(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,qt(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Tn=d(xn);jt.line=Tn,rn.area=e(Ut,{threshold:0});var Nn=d(xn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),$t(r,function(t){var r=0,l;if(!c||u[t]&&u[t].y!==null)if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++)if(l=o[t].points[h+","+t]){r=l[1];break}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:ht})}}),n.length&&t.push(n)}else xn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=xn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;r===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)o=qt(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],xn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];$t(this.zones,function(t,i){r.push(["zoneArea"+i,t.color||e.color,t.fillColor||n.fillColor])}),$t(r,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:qt(r[2],an(r[1]).setOpacity(qt(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:ln.drawRectangle});jt.area=Nn,rn.spline=e(Ut),Tn=d(xn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=I(e,i),l=2*i-a):a<e&&a<i&&(a=q(e,i),l=2*i-a),l>o&&l>i?(l=I(o,i),a=2*i-l):l<o&&l<i&&(l=q(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),jt.spline=Tn,rn.areaspline=e(rn.area),Nn=Nn.prototype,Tn=d(Tn,{type:"areaspline",closedStacks:!0,getSegmentPath:Nn.getSegmentPath,closeSegment:Nn.closeSegment,drawGraph:Nn.drawGraph,drawLegendSymbol:ln.drawRectangle}),jt.areaspline=Tn,rn.column=e(Ut,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),Tn=d(xn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&$t(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;t.grouping===!1?a=1:$t(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===_&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u)});var f=q(R(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=f*t.groupPadding,c=(f-2*l)/a,t=q(t.maxPointWidth||n.len,qt(t.pointWidth,c*(1-2*t.pointPadding)));return e.columnMetrics={width:t,offset:(c-t)/2+(l+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-f/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=qt(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=qt(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=I(a,1+2*r),l=e.pointXOffset=u.offset,c=-(r%2?.5:0),h=r%2?.5:1;t.inverted&&(s-=.5,t.renderer.isVML&&(h+=1)),n.pointPadding&&(f=F(f)),xn.prototype.translate.apply(e),$t(e.points,function(n){var r=qt(n.yBottom,s),u=999+R(r),u=q(I(-u,n.plotY),i.len+u),p=n.plotX+l,d=f,v=q(u,r),m,g;m=I(u,r)-v,R(m)<o&&o&&(m=o,g=!i.reversed&&!n.negative||i.reversed&&n.negative,v=B(R(v-s)>o?r-o:s-(g?o:0))),n.barX=p,n.pointWidth=a,d=B(p+d)+c,p=B(p)+c,d-=p,r=R(v)<.5,m=q(B(v+m)+h,9e4),v=B(v)+h,m-=v,r&&(v-=1,m+=1),n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-u,e.xAxis.len-p-d/2,m]:[p+d/2,u+i.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs={x:p,y:v,width:d,height:m}})},getSymbol:ht,drawLegendSymbol:ln.drawRectangle,drawGraph:ht,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;$t(t.points,function(a){var l=a.plotY,c=a.graphic;l!==_&&!isNaN(l)&&a.y!==null?(o=a.shapeArgs,l=f(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||t.pointAttr[""],c?(nn(c),c.attr(l)[n.pointCount<s?"animate":"attr"](e(o))):a.graphic=i[a.shapeType](o).attr(l).attr(u).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(a.graphic=c.destroy())})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};et&&(e?(i.scaleY=.001,e=q(t.pos+t.len,I(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&$t(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),xn.prototype.remove.apply(e,arguments)}}),jt.column=Tn,rn.bar=e(rn.column),Nn=d(Tn,{type:"bar",inverted:!0}),jt.bar=Nn,rn.scatter=e(Ut,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Nn=d(xn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&xn.prototype.drawGraph.call(this)}}),jt.scatter=Nn,rn.pie=e(Ut,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Ut={type:"pie",isCartesian:!1,pointClass:d(Sn,{init:function(){Sn.prototype.init.apply(this,arguments);var e=this,t;return It(e,{visible:e.visible!==!1,name:qt(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},Gt(e,"select",t),Gt(e,"unselect",t),e},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,s=r.options.ignoreHiddenPoint,t=qt(t,s);e!==n.visible&&(n.visible=n.options.visible=e=e===_?!n.visible:e,r.options.data[Vt(n,r.data)]=n.options,$t(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!e&&n.state==="hover"&&n.setState(""),s&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var r=this.series;k(n,r.chart),qt(t,!0),this.sliced=this.options.sliced=e=f(e)?e:!this.sliced,r.options.data[Vt(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||($t(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){xn.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),qt(t,!0)&&this.chart.redraw(n)},updateTotals:function(){var e,t=0,n=this.points,r=n.length,i,s=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0&&(i.visible||!s)?i.y/t*100:0,i.total=t},generatePoints:function(){xn.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=W/180*(a-90),a=(this.endAngleRad=W/180*(qt(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,p=l.length,d;e||(this.center=e=this.getCenter()),this.getX=function(t,n){return u=H.asin(q((t-e[1])/(e[2]/2+c),1)),e[0]+(n?-1:1)*U(u)*(e[2]/2+c)};for(h=0;h<p;h++){d=l[h],s=f+t*a;if(!n||d.visible)t+=d.percentage/100;o=f+t*a,d.shapeType="arc",d.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:B(s*1e3)/1e3,end:B(o*1e3)/1e3},u=(o+s)/2,u>1.5*W?u-=2*W:u<-W/2&&(u+=2*W),d.slicedTranslation={translateX:B(U(u)*r),translateY:B(z(u)*r)},s=U(u)*e[2]/2,o=z(u)*e[2]/2,d.tooltipPos=[e[0]+s*.7,e[1]+o*.7],d.half=u<-W/2||u>W/2?1:0,d.angle=u,i=q(i,c/2),d.labelPos=[e[0]+s+U(u)*c,e[1]+o+z(u)*c,e[0]+s+U(u)*i,e[1]+o+z(u)*i,e[0]+s,e[1]+o,c<0?"center":d.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart.renderer,n,r,i=e.options.shadow,s,o,u;i&&!e.shadowGroup&&(e.shadowGroup=t.g("shadow").add(e.group)),$t(e.points,function(a){a.y!==null&&(r=a.graphic,o=a.shapeArgs,s=a.shadowGroup,i&&!s&&(s=a.shadowGroup=t.g("shadow").add(e.shadowGroup)),n=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(n),r?r.animate(It(o,n)):(u={"stroke-linejoin":"round"},a.visible||(u.visibility="hidden"),a.graphic=r=t[a.shapeType](o).setRadialReference(e.center).attr(a.pointAttr[a.selected?"select":""]).attr(u).attr(n).add(e.group).shadow(i,s)))})},searchPoint:ht,sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})},drawLegendSymbol:ln.drawRectangle,getCenter:En.getCenter,getSymbol:ht},Ut=d(xn,Ut),jt.pie=Ut,xn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,l,c,h=t.chart.renderer;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),c=t.plotGroup("dataLabelsGroup","data-labels",i.defer?"hidden":"visible",i.zIndex||6),qt(i.defer,!0)&&(c.attr({opacity:+a}),a||Gt(t,"afterAnimate",function(){t.visible&&c.show(),c[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,$t(s,function(s){var a,p=s.dataLabel,d,v,m=s.connector,y=!0,b,w={};o=s.dlOptions||s.options&&s.options.dataLabels,a=qt(o&&o.enabled,u.enabled);if(p&&!a)s.dataLabel=p.destroy();else if(a){i=e(u,o),b=i.style,a=i.rotation,d=s.getLabelConfig(),l=i.format?g(i.format,d):i.formatter.call(d,i),b.color=qt(i.color,b.color,t.color,"black");if(p){if(f(l))p.attr({text:l}),y=!1;else if(s.dataLabel=p=p.destroy(),m)s.connector=m.destroy()}else if(f(l)){p={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:a,padding:i.padding,zIndex:1},b.color==="contrast"&&(w.color=i.inside||i.distance<0||n.stacking?h.getContrast(s.color||t.color):"#000000"),r&&(w.cursor=r);for(v in p)p[v]===_&&delete p[v];p=s.dataLabel=h[a?"text":"label"](l,0,-999,i.shape,null,null,i.useHTML).attr(p).css(It(b,w)).add(c).shadow(i.shadow)}p&&t.alignDataLabel(s,p,i,null,y)}})},xn.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=qt(e.plotX,-999),a=qt(e.plotY,-999),f=t.getBBox(),l=s.renderer.fontMetrics(n.style.fontSize).b,c=this.visible&&(e.series.forceDL||s.isInsidePlot(u,B(a),o)||r&&s.isInsidePlot(u,o?r.x+1:r.y+r.height-1,o));c&&(r=It({x:o?s.plotWidth-a:u,y:B(o?s.plotHeight-u:a),width:0,height:0},r),It(n,{width:f.width,height:f.height}),n.rotation?(e=s.renderer.rotCorr(l,n.rotation),t[i?"attr":"animate"]({x:r.x+n.x+r.width/2+e.x,y:r.y+n.y+r.height/2}).attr({align:n.align})):(t.align(n,null,r),o=t.alignAttr,qt(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,o,f,r,i):qt(n.crop,!0)&&(c=s.isInsidePlot(o.x,o.y)&&s.isInsidePlot(o.x+f.width,o.y+f.height)),n.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),c||(t.attr({y:-999}),t.placed=!1)},xn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l,c=e.box?0:e.padding||0;f=n.x+c,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width-c,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y+c,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height-c,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},jt.pie&&(jt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=qt(i.connectorPadding,10),o=qt(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=qt(i.softConnector,!0),h=i.distance,p=e.center,d=p[2]/2,v=p[1],m=h>0,g,y,b,w=[[],[]],E,x,T,N,C,k=[0,0,0,0],L=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){xn.prototype.drawDataLabels.apply(e),$t(t,function(e){e.dataLabel&&e.visible&&w[e.half].push(e)});for(N=2;N--;){var A=[],O=[],M=w[N],_=M.length,D;if(_){e.sortByAngle(M,N-.5);for(C=t=0;!t&&M[C];)t=M[C]&&M[C].dataLabel&&(M[C].dataLabel.getBBox().height||21),C++;if(h>0){y=q(v+d+h,r.plotHeight);for(C=I(0,v-d-h);C<=y;C+=t)A.push(C);y=A.length;if(_>y){n=[].concat(M),n.sort(L);for(C=_;C--;)n[C].rank=C;for(C=_;C--;)M[C].rank>=y&&M.splice(C,1);_=M.length}for(C=0;C<_;C++){n=M[C],b=n.labelPos,n=9999;var P,H;for(H=0;H<y;H++)P=R(A[H]-b[1]),P<n&&(n=P,D=H);if(D<C&&A[C]!==null)D=C;else for(y<_-C+D&&A[C]!==null&&(D=y-_+C);A[D]===null;)D++;O.push({i:D,y:A[D]}),A[D]=null}O.sort(L)}for(C=0;C<_;C++){n=M[C],b=n.labelPos,g=n.dataLabel,T=n.visible===!1?"hidden":"inherit",n=b[1];if(h>0){if(y=O.pop(),D=y.i,x=y.y,n>x&&A[D+1]!==null||n<x&&A[D-1]!==null)x=q(I(0,n),r.plotHeight)}else x=n;E=i.justify?p[0]+(N?-1:1)*(d+h):e.getX(x===v-d-h||x===v+d+h?n:x,N),g._attr={visibility:T,align:b[6]},g._pos={x:E+i.x+({left:s,right:-s}[b[6]]||0),y:x+i.y-10},g.connX=E,g.connY=x,this.options.size===null&&(y=g.width,E-y<s?k[3]=I(B(y-E+s),k[3]):E+y>u-s&&(k[1]=I(B(E+y-u+s),k[1])),x-t/2<0?k[0]=I(B(-x+t/2),k[0]):x+t/2>a&&(k[2]=I(B(x+t/2-a),k[2])))}}}if(S(k)===0||this.verifyDataLabelOverflow(k))this.placeDataLabels(),m&&o&&$t(this.points,function(t){f=t.connector,b=t.labelPos,(g=t.dataLabel)&&g._pos&&t.visible?(T=g._attr.visibility,E=g.connX,x=g.connY,l=c?["M",E+(b[6]==="left"?5:-5),x,"C",E,x,2*b[2]-b[4],2*b[3]-b[5],b[2],b[3],"L",b[4],b[5]]:["M",E+(b[6]==="left"?5:-5),x,"L",b[2],b[3],"L",b[4],b[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},jt.pie.prototype.placeDataLabels=function(){$t(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},jt.pie.prototype.alignDataLabel=ht,jt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=I(t[2]-I(e[1],e[3]),i):(s=I(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=I(q(s,t[2]-I(e[0],e[2])),i):(s=I(q(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=/%$/.test(n.innerSize||0)?s*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),this.translate(t),$t(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),jt.column&&(jt.column.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart.inverted,u=t.series,a=t.dlBox||t.shapeArgs,f=qt(t.below,t.plotY>qt(this.translatedThreshold,u.yAxis.len)),l=qt(r.inside,!!this.options.stacking);a&&(i=e(a),o&&(i={x:u.yAxis.len-i.y-i.height,y:u.xAxis.len-i.x-i.width,width:i.height,height:i.width}),!l)&&(o?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)),r.align=qt(r.align,!o||l?"center":f?"right":"left"),r.verticalAlign=qt(r.verticalAlign,o||l?"middle":f?"top":"bottom"),xn.prototype.alignDataLabel.call(this,t,n,r,i,s)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,s=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(s,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t=e.length,r,i,s,o,u,a,f;for(i=0;i<t;i++)if(r=e[i])r.oldOpacity=r.opacity,r.newOpacity=1;e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)});for(i=0;i<t;i++){s=e[i];for(r=i+1;r<t;++r)if(o=e[r],s&&o&&s.placed&&o.placed&&s.newOpacity!==0&&o.newOpacity!==0&&(u=s.alignAttr,a=o.alignAttr,f=2*(s.box?0:s.padding),u=!(a.x>u.x+(s.width-f)||a.x+(o.width-f)<u.x||a.y>u.y+(s.height-f)||a.y+(o.height-f)<u.y)))(s.labelrank<o.labelrank?s:o).newOpacity=0}n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(Ft),Ut=Ft.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(e){for(var n=e.target,r;n&&!r;)r=n.point,n=n.parentNode;r!==_&&r!==t.hoverPoint&&r.onMouseOver(e)};$t(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||($t(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),it)&&e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(et?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:mt,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),$t([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),it&&e.on("touchstart",p)}))}},jt.column&&(Tn.prototype.drawTracker=Ut.drawTrackerPoint),jt.pie&&(jt.pie.prototype.drawTracker=Ut.drawTrackerPoint),jt.scatter&&(Nn.prototype.drawTracker=Ut.drawTrackerPoint),It(wn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Zt(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=p("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Gt(e.checkbox,"click",function(t){Zt(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),at.legend.itemStyle.cursor="pointer",It(zt.prototype,{showResetZoom:function(){var e=this,t=at.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;Zt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,i=!1,s;!e||e.resetSelection?$t(this.axes,function(e){t=e.zoom()}):$t(e.xAxis.concat(e.yAxis),function(e){var r=e.axis,s=r.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=r.zoom(e.min,e.max),r.displayBtn&&(i=!0)}),s=this.resetZoomButton,i&&!s?this.showResetZoom():!i&&r(s)&&(this.resetZoomButton=s.destroy()),t&&this.redraw(qt(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&$t(r,function(e){e.setState()}),$t(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,u=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u,o=o>r;s.series.length&&(o||f>q(a.dataMin,a.min))&&(!o||u<I(a.dataMax,a.max))&&(s.setExtremes(f,u,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),It(Sn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=qt(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[Vt(n,r.data)]=n.options,n.setState(e&&"select"),t||$t(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[Vt(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),s&&s!==this&&s.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||Vt(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=e(this.series.options.point,this.options).events,n;this.events=t;for(n in t)Gt(this,n,t[n]);this.hasImportedEvents=!0}},setState:function(t,n){var r=this.plotX,i=this.plotY,s=this.series,o=s.options.states,u=rn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[t],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=this.marker||{},p=s.chart,d=s.halo,v,t=t||"";v=this.pointAttr[t]||s.pointAttr[t],t===this.state&&!n||this.selected&&t!=="select"||o[t]&&o[t].enabled===!1||t&&(l||a&&f.enabled===!1)||t&&h.states&&h.states[t]&&h.states[t].enabled===!1||(this.graphic?(u=u&&this.graphic.symbolName&&v.r,this.graphic.attr(e(v,u?{x:r-u,y:i-u,width:2*u,height:2*u}:{})),c&&c.hide()):(t&&f&&((u=f.radius,h=h.symbol||s.symbol,c&&c.currentSymbol!==h&&(c=c.destroy()),c)?c[n?"animate":"attr"]({x:r-u,y:i-u}):h&&(s.stateMarkerGraphic=c=p.renderer.symbol(h,r-u,i-u,2*u,2*u).attr(v).add(s.markerGroup),c.currentSymbol=h)),c&&(c[t&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"](),c.element.point=this)),(r=o[t]&&o[t].halo)&&r.size?(d||(s.halo=d=p.renderer.path().add(p.seriesGroup)),d.attr(It({fill:an(this.color||s.color).setOpacity(r.opacity).get()},r.attributes))[n?"animate":"attr"]({d:this.haloPath(r.size)})):d&&d.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),It(xn.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Zt(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&Zt(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,r=t.states,i=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,(!r[e]||r[e].enabled!==!1)&&(e&&(i=r[e].lineWidth||i+(r[e].lineWidthPlus||0)),n&&!n.dashstyle))){e={"stroke-width":i};for(n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1}},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===_?!u:e)?"show":"hide",$t(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),(r.hoverSeries===n||(r.hoverPoint&&r.hoverPoint.series)===n)&&n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&$t(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),$t(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Zt(n,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===_?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Zt(this,e?"select":"unselect")},drawTracker:Ut.drawTrackerGraph}),It(Ft,{Color:an,Point:Sn,Tick:O,Renderer:rt,SVGElement:A,SVGRenderer:fn,arrayMin:E,arrayMax:S,charts:pt,dateFormat:ft,error:N,format:g,pathAnim:lt,getOptions:function(){return at},hasBidiBug:tt,isTouchDevice:Y,setOptions:function(t){return at=e(!0,at,t),L(),at},addEvent:Gt,removeEvent:Yt,createElement:p,discardElement:T,css:h,each:$t,map:Qt,merge:e,splat:c,extendClass:d,pInt:t,svg:et,canvas:nt,vml:!et&&!nt,product:"Highcharts",version:"4.1.8"})}(),n("highcharts",function(e){return function(){var t,n;return t||e.Highcharts}}(this)),Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(this==null)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if(typeof e!="function")throw new TypeError(e+" is not a function");arguments.length>1&&(n=t),r=new Array(o),i=0;while(i<o){var u,a;i in s&&(u=s[i],a=e.call(n,u,i,s),r[i]=a),i++}return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(this==null)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(i===0)return-1;var s=+t||0;Math.abs(s)===Infinity&&(s=0);if(s>=i)return-1;n=Math.max(s>=0?s:i-Math.abs(s),0);while(n<i){if(n in r&&r[n]===e)return n;n++}return-1}),Date.now||(Date.now=function(){return(new Date).getTime()}),n("support/jssupport",function(){}),n("sdmx/sdmxresponse",["support/jssupport"],function(){function e(e){this.sdmxResponse=typeof e=="string"||e instanceof String?t(e):e,this.dimensionAtObservation=null,this.observationCategories=null,this.dimensionAtObservation=this.getDimensionAtObservation(),this.observationCategories=this.getObservationCategories()}function t(e){var t;try{t=JSON.parse(e)}catch(n){t=null}return t}return e.prototype.getObservationCategories=function(){if(this.observationCategories)return this.observationCategories;var e=this.dimensionAtObservation.values;return this.observationCategories=e.map(function(e){return e.name}),this.observationCategories},e.prototype.getSeries=function(e){var t=e&&!0,n=[],r=this.sdmxResponse.dataSets[0].series;if(!r){var i=this.getNameByDatasetFilter();r={},r[i]={observations:this.sdmxResponse.dataSets[0].observations}}for(var s in r)if(r.hasOwnProperty(s)){var o=this.getNameBySeriesKey(s),u=[];for(var a=0;a<this.observationCategories.length;a++){var f=r[s].observations[a][0];t?u.push({name:this.observationCategories[a],y:f}):u.push(f)}n.push({name:o,data:u})}return n},e.prototype.getDimensionAtObservation=function(){return this.sdmxResponse.structure.dimensions.observation[0]},e.prototype.getNameByDatasetFilter=function(){var e=this.sdmxResponse.structure.dimensions.dataSet,t=[];for(var n=0;n<e.length;n++)for(var r=0;r<e[n].values.length;r++)t.push(e[n].values[r].name);return t.join(", ")},e.prototype.getNameBySeriesKey=function(e){if(!this.sdmxResponse.structure.dimensions.hasOwnProperty("series")||this.sdmxResponse.structure.dimensions.series==null)return e;var t=e.split(/[\.:]/),n=[];for(var r=0;r<t.length;r++){var i=this.sdmxResponse.structure.dimensions.series[r].values[parseInt(t[r])].name;n.push(i)}return n.join(", ")},e}),n("support/ajaxsupport",[],function(){"use strict";var e={ajaxCall:function(e){var t=XMLHttpRequest.DONE||4,n=e.url,r=e.httpFunction||"GET",i=e.onSuccess,s=e.onError,o;o=new XMLHttpRequest,o.onreadystatechange=function(){if(o.readyState==t){if(o.readyState<4)return;o.status==200?i(o.responseText):s(o.status)}};try{o.open(r,n,!0),o.send("")}catch(u){s(u.number&65535)}}};return e}),n("vcube/datasource",["sdmx/sdmxresponse","support/ajaxsupport"],function(e,t){"use strict";function n(e){this.type=e.type||n.TYPES.sdmxREST;switch(this.type){case n.TYPES.sdmxData:this.sdmxData=e.sdmxData;break;case n.TYPES.sdmxREST:this.sdmxEntry=e.sdmxEntry,this.cube=e.cube,this.filters=e.filters||["all"],this.measures=e.measures,this.measures&&(this.filters=this.filters.concat([this.measures])),this.key=this.filters.map(function(e){return e.join("+")}).join("."),this.startPeriod=e.startPeriod||"",this.endPeriod=e.endPeriod||"",this.dimensionAtObservation=e.dimensionAtObservation||"",this.labelValues=e.labelValues===!0,this.locale=e.locale||"",this.sdmxURL=this.buildURL();break;default:}this.onError=function(e){}}function r(t){this._this.sdmxData=new e(t);var n=this._this.sdmxData.getObservationCategories(),r=this._this.sdmxData.getSeries(this._this.labelValues);this.callback(n,r)}return n.TYPES={sdmxREST:"sdmxREST",sdmxData:"sdmxData"},n.prototype.buildURL=function(){var e=this.sdmxEntry+"/data/"+this.cube+"/"+this.key+"/all",t="",n=this.startPeriod?"startPeriod="+this.startPeriod:"";t+=n,n=this.endPeriod?"endPeriod="+this.endPeriod:"",t+=t&&n?"&"+n:n;var r=this.dimensionAtObservation?"dimensionAtObservation="+this.dimensionAtObservation:"";t+=t&&r?"&"+r:r;var i=this.locale?"locale="+this.locale:"";return t+=t&&i?"&"+i:i,e+=t?"?"+t:"",e},n.prototype.getData=function(e,i){switch(this.type){case n.TYPES.sdmxData:e(this.sdmxData);break;case n.TYPES.sdmxREST:var s=r.bind({_this:this,callback:e});t.ajaxCall({url:this.sdmxURL,httpFunction:"GET",onSuccess:s,onError:i||this.onError});break;default:}},n}),!function(e,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof n&&n.amd?n("spinner",t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),s=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-s),e),u=f.substring(0,f.indexOf("Animation")).toLowerCase(),a=u&&"-"+u+"-"||"";return h[i]||(l.insertRule("@"+a+"keyframes "+i+"{0%{opacity:"+o+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",l.cssRules.length),h[i]=1),i}function r(e,t){var n,r,i=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==i[t])return t;for(r=0;r<c.length;r++)if(n=c[r]+t,void 0!==i[n])return n}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function u(e){this.opts=s(e||{},u.defaults,p)}function a(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}l.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(e,r){function s(){return i(n("group",{coordsize:l+" "+l,coordorigin:-f+" "+ -f}),{width:l,height:l})}function u(e,u,a){t(h,t(i(s(),{rotation:360/r.lines*e+"deg",left:~~u}),t(i(n("roundrect",{arcsize:r.corners}),{width:f,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:a}),n("fill",{color:o(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var a,f=r.scale*(r.length+r.width),l=2*r.scale*f,c=-(r.width+r.length)*r.scale*2+"px",h=i(s(),{position:"absolute",top:c,left:c});if(r.shadow)for(a=1;a<=r.lines;a++)u(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=r.lines;a++)u(a);return t(e,h)},u.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var f,l,c=["webkit","Moz","ms","O"],h={},p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(u.defaults={},s(u.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,s=n.el=e(null,{className:r.className});if(i(s,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(s,t.firstChild||null),s.setAttribute("role","progressbar"),n.lines(s,n.opts),!f){var o,u=0,a=(r.lines-1)*(1-r.direction)/2,l=r.fps,c=l/r.speed,h=(1-r.opacity)/(c*r.trail/100),p=c/r.lines;!function d(){u++;for(var e=0;e<r.lines;e++)o=Math.max(1-(u+(r.lines-e)*p)%c*h,r.opacity),n.opacity(s,e*r.direction+a,o,r);n.timeout=n.el&&setTimeout(d,~~(1e3/l))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,s){function u(t,n){return i(e(),{position:"absolute",width:s.scale*(s.length+s.width)+"px",height:s.scale*s.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*l+s.rotate)+"deg) translate("+s.scale*s.radius+"px,0)",borderRadius:(s.corners*s.scale*s.width>>1)+"px"})}for(var a,l=0,c=(s.lines-1)*(1-s.direction)/2;l<s.lines;l++)a=i(e(),{position:"absolute",top:1+~(s.scale*s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:f&&n(s.opacity,s.trail,c+l*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&t(a,i(u("#000","0 0 4px #000"),{top:"2px"})),t(r,t(a,u(o(s.color,l),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){l=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var d=i(e("group"),{behavior:"url(#default#VML)"});!r(d,"transform")&&d.adj?a():f=r(d,"animation")}return u}),document.querySelectorAll||(document.querySelectorAll=function(e){var t=document.createElement("style"),n=[],r;document.documentElement.firstChild.appendChild(t),document._qsa=[],t.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),t.parentNode.removeChild(t);while(document._qsa.length)r=document._qsa.shift(),r.style.removeAttribute("x-qsa"),n.push(r);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(e,t){function n(e){var n=t[e];t[e]=function(e){return i(n(e))}}function r(t,n,r){return(r=this).attachEvent("on"+t,function(t){var t=t||e.event;t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},n.call(r,t)})}function i(e,t){if(t=e.length)while(t--)e[t].addEventListener=r;else e.addEventListener=r;return e}if(e.addEventListener)return;i([t,e]),"Element"in e?e.Element.prototype.addEventListener=r:(t.attachEvent("onreadystatechange",function(){i(t.all)}),n("getElementsByTagName"),n("getElementById"),n("createElement"),i(t.all))}(window,document),n("support/domsupport",function(){}),n("vcube/vcube",["highcharts","vcube/datasource","spinner","support/domsupport"],function(e,t,n){"use strict";function i(e,t,n,r,i){this.containerId=document.querySelector(e).getAttribute("id"),this.options=t,this.options.type=this.options.type||"line",this.options.title=this.options.title||"",this.options.subTitle=this.options.subTitle||"",this.options.xInterval=this.options.xInterval||1,this.options.yAxis=this.options.yAxis||"",this.chart=this.createChart(this.options),this.dsOptions=n,this.spinner=null,this.isSpinning=!1,this.dataSources={},this.addSources(this.dsOptions,r,i)}function s(e,t){this._this.addSeries(e,t),this.callback&&this.callback(e,t)}var r={lines:11,length:19,width:11,radius:34,scale:.75,corners:1,color:"#666666",opacity:.25,rotate:0,direction:1,speed:.8,trail:60,fps:10,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};return i.prototype.addSources=function(e,i,o){if(!e||e.length<1)return;this.spinner?this.spinner.spin():this.spinner=(new n(r)).spin(this.chart.container),this.isSpinning=!0;for(var u=0;u<e.length;u++)this.dataSources[e[u].name]=new t(e[u]),this.dataSources[e[u].name].getData(s.bind({_this:this,callback:i}),o)},i.prototype.addSeries=function(e,t){this.chart.xAxis[0].setCategories(e);for(var n=0;n<t.length;n++)this.chart.addSeries(t[n],!1);this.isSpinning===!0&&this.spinner&&this.spinner.stop(),this.chart.redraw()},i.prototype.createChart=function(t){return new e.Chart({credits:{enabled:!1},chart:{renderTo:this.containerId,type:t.type,style:{fontFamily:t.fontFamily||"sans-serif"}},title:{text:t.title},subtitle:{text:t.subTitle},xAxis:{categories:[],tickInterval:t.xInterval},yAxis:{title:{text:t.yAxis}},plotOptions:{series:{lineWidth:2}}})},i}),n("animations/animator",["support/jssupport"],function(){function e(n){this.animations={},this.inProgress=[],this.onIdle=n.onIdle,this.raf=null,this.status=e.STATUS.IDLE,this.stepProcessor=t.bind(this)}function t(){var t=requestAnimationFrame(this.stepProcessor);for(var n=0;n<this.inProgress.length;n++){var r=this.inProgress[n],i=this.animations[r];this.process(i)&&this.stopAnimation(r)}this.inProgress.length>0?this.raf=t:(cancelAnimationFrame(t),this.status=e.STATUS.IDLE,this.raf=null,this.onIdle&&this.onIdle())}return e.STATUS={IDLE:0,RUNNING:1,PAUSED:2},e.PROPERTIES={opacity:{unit:""}},e.EASING={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+ --e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},e.prototype.start=function(){if(this.raf&&this.status===e.STATUS.RUNNING)return;this.status=e.STATUS.RUNNING,this.raf=requestAnimationFrame(this.stepProcessor)},e.prototype.process=function(e){if(!e.element)return!0;var t=!1,n=Date.now()-e.startTime,r=e.startValue+(e.endValue-e.startValue)*e.easingFunction(n/e.duration);return n>=e.duration&&(r=e.endValue,t=!0),e.element.style[e.property]=r+e.unit,t},e.prototype.addAnimation=function(t,n,r){if(!n)throw"target element is required";var i=r;i.easingFunction=e.EASING[r.easing||"easeInOutQuad"],i.status=e.STATUS.IDLE,i.element=n,i.direction=r.endValue>r.startValue?1:-1,i.unit=(e.PROPERTIES[i.property]||{}).unit,i.unit=i.unit==null?"px":"",this.animations[t]=i},e.prototype.startAnimation=function(t){this.stopAnimation(t),this.resetAnimation(t),this.animations[t].startTime=Date.now(),this.status=e.STATUS.RUNNING,this.inProgress.push(t),this.start()},e.prototype.resetAnimation=function(e){if(this.animations[e].element){var t=this.animations[e].property,n=this.animations[e].startValue;this.animations[e].element.style[t]=n+this.animations[e].unit}},e.prototype.stopAnimation=function(t){var n=this.inProgress.indexOf(t);n>=0&&this.inProgress.splice(n,1),this.animations[t].status=e.STATUS.IDLE,this.animations[t].startTime=null},e.prototype.pauseAnimation=function(e){},e.prototype.resumeAnimation=function(e){},e.prototype.removeAnimation=function(e){},e.prototype.startAll=function(){this.stopAll(),this.resetAll();for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.startAnimation(e)},e.prototype.resetAll=function(){for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.resetAnimation(e)},e.prototype.stopAll=function(){for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.stopAnimation(e)},e.prototype.pauseAll=function(){for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.pauseAnimation(e)},e.prototype.resumeAll=function(){for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.resumeAnimation(e)},e.prototype.removeAll=function(){for(var e in this.animations)this.animations.hasOwnProperty(e)&&this.removeAnimation(e)},e}),n("controls/tooltip",["animations/animator"],function(e){function t(t,n,r){this.host=t,this.message=n,this.delay=r.delay||1e3,this.toolTipElement=null,this.animator=new e({}),this.timerToShow=null,this.init()}function n(){this.toolTipElement.style.opacity="0",this.toolTipElement.style.display="inline-block",this.animator.addAnimation("tooltip",this.toolTipElement,{duration:500,property:"opacity",startValue:0,endValue:1,easing:"easeInOutQuad"}),this.animator.startAll(),this.host.addEventListener("mouseout",r.bind(this))}function r(){clearTimeout(this.timerToShow),this.timerToShow=null,this.animator.stopAll(),this.toolTipElement.style.opacity="0",this.toolTipElement.style.display="none"}return t.prototype.init=function(){var e=document.createElement("div");e.className="tooltip",e.innerHTML=this.message,e.style.display="none",e.style.position="absolute",e.style.opacity="0",this.toolTipElement=e,this.host.appendChild(e),this.host.addEventListener("mouseover",function(){this.timerToShow||(this.timerToShow=setTimeout(n.bind(this),this.delay))}.bind(this))},t}),n("containers/slidercontrol",["containers/slider","controls/tooltip"],function(e,t){function n(e,t,n){this.slider=e,this.wrapper=t,this.options=n,this.slideIndexes=this.slider.getSlideIndexes(),this.handles=[],this.init()}function r(e){if(this.slider.slideSeq===e)return;this.slider.goTo(e)}return n.prototype.init=function(){for(var e=0;e<this.slideIndexes.length;e++){var n=document.createElement("div");n.className="slide-handle",n.style.position="relative",n.innerHTML="",n.addEventListener("click",r.bind(this,e),!1),new t(n,this.slider.getCaption(e),{}),this.wrapper.appendChild(n),this.handles.push(n)}},n.prototype.setSelected=function(e){for(var t=0;t<this.handles.length;t++)t===e?this.handles[t].className=this.handles[t].className+" selected":this.handles[t].className=this.handles[t].className.replace(" selected","")},n}),n("containers/slider",["animations/animator","containers/slidercontrol","support/jssupport"],function(e,t){function n(t,n){this.options=n,this.delay=this.options.delay||1e4,this.paused=this.options.paused&&!0,this.wrapper=document.querySelector(t);if(!this.wrapper)throw"wrapper element does not exist";this.container=this.wrapper.querySelector(".slide-container"),this.container=this.container||this.wrapper,this.containerWidth=this.container.clientWidth,this.containerHeight=this.container.clientHeight,this.wrapper.style.position="relative",this.wrapper.style.overflow="hidden",this.slides=this.wrapper.querySelectorAll("div.slide"),this.prepareSlides(this.slides),this.slideIndexes=[];for(var o=0;o<this.slides.length;o++)this.slideIndexes.push(o);this.captions=this.options.captions||new Array(this.slides.length),this.options.shuffle&&(this.slideIndexes=s(this.slideIndexes)),this.slideSeq=0,this.currentSlide=this.slideIndexes[this.slideSeq],this.showSlide(this.currentSlide),this.animator=new e({onIdle:r.bind(this)}),this.animating=!1,this.sliderControl=null,this.setupControl(),this.setSelected(0),this.cycle=i.bind(this),this.paused||(this.intervalId=window.setInterval(this.cycle,this.delay))}function r(){this.animating=!1,this.setSelected(this.slideSeq)}function i(){var e=this.slideSeq+1>=this.slideIndexes.length?0:this.slideSeq+1;this.goTo(e)}function s(e){var t=e.length,n,r;while(0!==t)r=Math.floor(Math.random()*t),t-=1,n=e[t],e[t]=e[r],e[r]=n;return e}return n.prototype.getSlideIndexes=function(){return this.slideIndexes},n.prototype.getCaption=function(e){return this.captions[this.slideIndexes[e]]},n.prototype.setSelected=function(e){if(!this.sliderControl)return;this.sliderControl.setSelected(e)},n.prototype.prepareSlides=function(e){var t=this.containerWidth+"px",n=this.containerHeight+"px";for(var r=0;r<e.length;r++)e[r].style.width=t,e[r].style.height=n,e[r].style.position="absolute",e[r].style.top="0",e[r].style.left=t},n.prototype.setupControl=function(){this.controlWrapper=this.wrapper.querySelector(".slider-control");if(!this.controlWrapper)return;this.sliderControl=new t(this,this.controlWrapper,{})},n.prototype.showSlide=function(e){var t=this.slides[e];t.style.left="0px"},n.prototype.hideSlide=function(e){var t=this.slides[e];t.style.left=this.containerWidth+"px"},n.prototype.goTo=function(e){if(this.animating)return;var t=e,n=this.slides[this.slideIndexes[this.slideSeq]],r=this.slides[this.slideIndexes[t]];this.hideSlide(t),this.animator.addAnimation("oldSlide",n,{duration:1e3,property:"left",startValue:0,endValue:-this.containerWidth}),this.animator.addAnimation("newSlide",r,{duration:1e3,property:"left",startValue:this.containerWidth,endValue:0}),this.animator.startAll(),this.animating=!0,this.slideSeq=t},n}),n("vcube/sdmxgraph",["vcube/vcube","vcube/datasource","containers/slider"],function(e,t,n){var r={VCube:e,DataSource:t,Slider:n};return r}),t("vcube/sdmxgraph")});